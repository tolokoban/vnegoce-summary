{"version":3,"sources":["../../../../svn/VNegoce6/Modules/www/src/tfw/factory/dialog.yaml","../../../../svn/VNegoce6/Modules/www/src/tfw/color.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/theme.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/converter/boolean.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/converter/unit.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/icons.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/view/icon.tsx","../../../../svn/VNegoce6/Modules/www/src/tfw/converter/integer.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/converter/string.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/converter/string-array.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/layout/flex.tsx","../../../../svn/VNegoce6/Modules/www/src/tfw/escape-handler.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/gesture/moves.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/gesture/finger.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/gesture/basic-handler.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/gesture.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/converter/function.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/behavior/touchable.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/intl.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/view/button/index.tsx","../../../../svn/VNegoce6/Modules/www/src/tfw/converter/array.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/factory/dialog.tsx","../../../../svn/VNegoce6/Modules/www/src/core/mocks.ts","../../../../svn/VNegoce6/Modules/www/src/core/api.ts","../../../../svn/VNegoce6/Modules/www/src/core/index.ts","../../../../svn/VNegoce6/Modules/www/src/tfw/view/touchable.tsx","../../../../svn/VNegoce6/Modules/www/src/Cell.tsx","../../../../svn/VNegoce6/Modules/www/src/Row.tsx","../../../../svn/VNegoce6/Modules/www/src/tools.ts","../../../../svn/VNegoce6/Modules/www/src/App.tsx","../../../../svn/VNegoce6/Modules/www/src/index.tsx"],"names":["module","exports","en","cancel","close","ok","fr","Color","codeCSS","arguments","length","undefined","Object","classCallCheck","this","R","G","B","H","S","L","A","parse","input","trim","toUpperCase","parseHexa","call","parseRGB","parseRGBA","parseHSL","luminance","color","hexa2","concat","newColor","chroma","Math","abs","x","shift","min","max","delta","INV6","text","charAt","parseInt","INV15","substr","INV255","isNaN","m","RX_RGB","exec","clamp01","RX_RGBA","parseFloat","RX_HSL","INV359","INV99","hsl2rgb","stringify","luminanceStep","color1","color2","alpha","beta","newRGBA","newRGB","red","green","blue","value","out","floor","toString","tfw_theme","register","registerTheme","apply","name","document","body","THEMES","css","console","error","current","classList","remove","add","get","vars","bg0","makeGetCurrentColor","bg1","bg2","bg3","bgP","bgPD","bgPL","bgS","bgSD","bgSL","black","white","isDark","colorName","$isDark","average","mix","isThemeGloballyDark","varName","setFontSize","size","normalize","completeWithDefaultValues","COLOR","THEME_COLOR_NAMES","themeName","_style","style","forEach","s","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","ALPHA_HEXA","Symbol","iterator","next","done","a","err","return","pen","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","letter","codeVariables","codeBackground","elevationColor","addAlpha","keys","ELEVATIONS","elevationKey","elevation","codeElevation","_loop","depth","tail","fgColorName","bgColorName","styleFgColorName","styleBgColorName","bgClass","fgClass","position","piecesFG","piecesSVG","piecesBG","index","push","pop","join","codeText","styleElement","createElement","getElementsByTagName","appendChild","textContent","0","2","4","6","8","9","10","11","12","16","24","completeBackgrounds","has0","has1","has2","has3","rgb2hsl","darkenBackground","color0","r0","g0","b0","color3","r3","g3","b3","dark","light","rotateHue","bg","hexa","castBoolean","v","defaultValue","toLowerCase","num","RX_CSS_UNIT","draw","d","stroke","fill","iconsBook","android","bug","camera","center","child","code","copy","counter","delete","direction","down","down-double","edit","eraser","export","flag-jp","r","flag-fr","flag-it","flag-de","flag-en","font","format-align-center","format-align-justify","format-align-left","format-align-right","format-bold","format-italic","format-float-center","format-float-left","format-float-none","format-float-right","format-header","format-underline","fullscreen","gear","gps","hand","heart","hide","home","image","import","improvement","info","left","left-double","link","location","logout","mail","map","map-layer","menu","minus","minus-o","minus-small","pack","plug","plus","plus-o","plus-small","print","question","redo","refresh","right","right-double","run","search","select","sitemap","unselect","share","show","speaker","split-vertical","split-horizontal","star","stat","switch","tri-down","tri-left","tri-right","tri-up","twitter","undo","up","up-double","user","wait","zoom-in","zoom-out","warning","synonyms","back","help","save","_i2","_Object$keys2","key","val","EnumPenColor","Icon","props","_this","possibleConstructorReturn","getPrototypeOf","refIcon","visible","timeoutHandle","React","sort","_this2","elemIcon","window","clearTimeout","requestAnimationFrame","slot","onHide","setTimeout","_this3","p","animate","flipH","flipV","startsWith","scalar","unit","castUnit","content","Array","isArray","castContent","rotate","defVal","castInteger","onClick","classes","svgContent","createSvgContent","transform","width","height","triggerVisibleAnimation","react","className","ref","viewBox","preserveAspectRatio","strokeWidth","strokeLinecap","strokeLinejoin","def","elementName","_parseDef","_ref","attributes","children","_ref2","slicedToArray","arg1","arg2","parseDef","attribs","split","attribName","attribValue","CLASSES","indexOf","manageColors","castString","t","castStringArray","defaultArray","defaultString","item","Flex","wide","dir","justifyContent","alignItems","flexWrap","wrap","toConsumableArray","escape_handler","listener","initialized","addEventListener","evt","fire","handlers","handler","CAPACITY","Moves","y","_x0","_y0","_time0","_x","_y","_time","_cursor","init","now","idx","Date","idx0","idx1","_index","time","time0","time1","time01","idx2","time12","x0","x1","y0","y1","Finger","fingers","identifier","indexOfFirstNull","BasicHandler","element","handleDown","handleUp","handleMove","pointerType","pointerTypeTime","deviceHandlers","checkPointerType","changedTouches","touch","clientX","clientY","getIndex","buttons","pointer","clear","createClear","touchstart","mousedown","touchend","_this4","mouseup","_this5","touchmove","_this6","mousemove","delay","_i","_eventNames","eventName","removeEventListener","preventDefault","stopPropagation","SYMBOL","ID","STANDARD_EVENTS","Gesture","elem","basicHandler","pointers","id","bind","assign","_len","gestureNames","_key","_gestureNames","gestureName","isDown","moves","rect","top","event","ptr","getPointer","getBoundingClientRect","hasHandlerFor","recognizeTap","recognizeSwipe","recognizePan","elapsedTime","startX","startY","tap","recognizePanDown","recognizePanUp","_ptr$moves","pan","sx","speedX","speedY","dx","pandown","panvertical","panup","recognizeSwipeDown","recognizeSwipeUp","recognizeSwipeLeft","_ptr$moves2","swipe","dy","swipedown","swipevertical","swipeup","swipeleft","swipehorizontal","EMPTY_FUNCTION","Touchable","args","_element","_enabled","accent","onTap","enabled","castFunction","that","on","keydown","removeTouchDisk","getComputedStyle","screen","div","createScreen","borderRadius","getPropertyValue","w","h","radius","ceil","sqrt","ripple","background","Theme","removeChild","Mode","Button","touchable","handleClick","assertThisInitialized","tag","label","icon","flat","small","castArray","disabled","icon_Icon","gCurrentLanguage","localStorage","getItem","navigator","language","Intl","translations","params","translation","addParams","languages","_languages","lang","ex","Error","instance","translate","defineProperty","intl","defaultText","toIntl","result","_Object$keys","_value","setItem","output","mark","mode","Text","paramIndex","c","Escape","Placeholder","tfw_factory_dialog","alert","onClose","dialog","Dialog","maxWidth","footer","button_Button","_","confirm","caption","Promise","resolve","title","confirmed","btnCancel","btnOK","options","task","flex_Flex","closeOnEscape","reject","then","make","require","_screen","_options","EscapeHandler","_hide","opt","header","ReactDOM","render","msg","arg","onNegoceCoreMessage","rnd","random","MOCKS","Alert","_Alert","asyncToGenerator","regenerator_default","_callee","message","_context","prev","stop","_x2","_x3","CreateDataset","entity","board","objectName","fields","query","refreshPeriod","setInterval","data","GetDashboardsAccess","DashboardsData","MoveTo","role","TraceInfo","Api","mock","NegoceCore","refrehPeriod","lambda","warn","core","CALLBACKS","onMessage","onError","funcName","api","_console","log","unreg","unregister","onNegoceCoreError","TouchableBehavior","tabIndex","Cell","createRef","prevProps","react_default","view_touchable_Touchable","Component","Row","proxy","desc","columns","col","Cell_Cell","convertDashboardsArrayToDaschboardsDict","dashboards","dashboard","rowsSorter","b","RecordSetIterator","rs","cols","rows","createClass","row","BACK_FIELDS","JSON","FRONT_FIELDS","App","state","backRows","frontRows","handleClickFront","handleClickBack","Core","dashboardsByProxy","createDatasets","t0","createDatasetBack","createDatasetFront","first","onDatasetFrontChange","onDatasetBackChange","newRows","itr","count","read","toFrontRows","oldRows","filter","setState","toBackRows","Row_Row","App_App","getElementById"],"mappings":"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","file":"static/js/main.b9c5be68.chunk.js","sourcesContent":["module.exports = {\"en\":{\"cancel\":\"Cancel\",\"close\":\"Close\",\"ok\":\"Ok\"},\"fr\":{\"cancel\":\"Annuler\",\"close\":\"Fermer\",\"ok\":\"OK\"}}","/**\r\n * @class Color\r\n * Fast color manipulations.\r\n * Attributes R  (red), G  (green), B  (blue), A  (alpha), H  (hue), S\r\n * (saturation), and L (luminance) are all floats between 0 and 1.\r\n */\r\nexport default class Color {\r\n    public R: number;\r\n    public G: number;\r\n    public B: number;\r\n    public H: number;\r\n    public S: number;\r\n    public L: number;\r\n    public A: number;\r\n\r\n    constructor(codeCSS: string = \"#000000\") {\r\n        this.R = 0;\r\n        this.G = 0;\r\n        this.B = 0;\r\n        this.H = 0;\r\n        this.S = 0;\r\n        this.L = 0;\r\n        this.A = 1;\r\n\r\n        this.parse(codeCSS);\r\n    }\r\n\r\n    static isValid(codeCSS: string) {\r\n        if( typeof codeCSS !== 'string' ) return false;\r\n        if( codeCSS.charAt(0) !== '#' ) return false;\r\n        switch( codeCSS.length ) {\r\n            case 4:  // #RGB\r\n            case 5:  // #RGBA\r\n            case 7:  // #RRGGBB\r\n            case 9:  // #RRGGBBAA\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    static normalize(codeCSS: string) {\r\n        const color = new Color(codeCSS);\r\n        return color.stringify();\r\n    }\r\n\r\n    static luminance(codeCSS: string) {\r\n        const color = new Color(codeCSS);\r\n        return color.luminance();\r\n    }\r\n\r\n    /**\r\n     * Returns 1 for bright colors and 0 for dark colors.\r\n     */\r\n    static luminanceStep(codeCSS: string) {\r\n        const color = new Color(codeCSS);\r\n        return color.luminanceStep();\r\n    }\r\n\r\n    static mix(color1: Color, color2: Color, alpha: number=.5) {\r\n        const beta = 1 - alpha;\r\n        return Color.newRGBA(\r\n            alpha * color2.R + beta * color1.R,\r\n            alpha * color2.G + beta * color1.G,\r\n            alpha * color2.B + beta * color1.B,\r\n            alpha * color2.A + beta * color1.A\r\n        );\r\n    }\r\n\r\n    static newBlack() {\r\n        return Color.newRGB(0, 0, 0);\r\n    }\r\n\r\n    static newWhite() {\r\n        return Color.newRGB(1, 1, 1);\r\n    }\r\n\r\n    /**\r\n     * Create a new Color instance base on R,G,B channels.\r\n     *\r\n     * @param   {number} red - Value between 0 and 1.\r\n     * @param   {number} green - Value between 0 and 1.\r\n     * @param   {number} blue - Value between 0 and 1.\r\n     * @returns {Color} New instance of Color.\r\n     */\r\n    static newRGB(red: number, green: number, blue: number) {\r\n        const color = new Color();\r\n        color.R = red;\r\n        color.G = green;\r\n        color.B = blue;\r\n        color.A = 1;\r\n        return color;\r\n    }\r\n\r\n    /**\r\n     * Create a new Color instance base on R,G,B,A channels.\r\n     *\r\n     * @param   {number} red - Value between 0 and 1.\r\n     * @param   {number} green - Value between 0 and 1.\r\n     * @param   {number} blue - Value between 0 and 1.\r\n     * @param   {number} alpha - Value between 0 and 1.\r\n     * @returns {Color} New instance of Color.\r\n     */\r\n    static newRGBA(red: number, green: number, blue: number, alpha: number) {\r\n        const color = new Color();\r\n        color.R = red;\r\n        color.G = green;\r\n        color.B = blue;\r\n        color.A = alpha;\r\n        return color;\r\n    }\r\n\r\n    /**\r\n     * Parse a color writtent in CSS syntax.\r\n     *\r\n     * @param   {string} code - CSS color.\r\n     * @returns {boolean} `true` if the color has valid syntax.\r\n     */\r\n    parse(code: string = \"#000000\"): boolean {\r\n        const input = code.trim().toUpperCase();\r\n        if (this.parseHexa.call(this, input)) return true;\r\n        if (this.parseRGB.call(this, input)) return true;\r\n        if (this.parseRGBA.call(this, input)) return true;\r\n        if (this.parseHSL.call(this, input)) return true;\r\n        // @TODO parseHSLA.\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * @see https://en.wikipedia.org/wiki/Grayscale\r\n     * @this Color\r\n     * @returns {undefined}\r\n     */\r\n    luminance(): number {\r\n        return (0.2126 * this.R) + (0.7152 * this.G) + (0.0722 * this.B);\r\n    }\r\n\r\n    /**\r\n     * @returns {integer} 0 if the color is dark and 1 if it is light.\r\n     */\r\n    luminanceStep(): number {\r\n        return this.luminance() < .6 ? 0 : 1;\r\n    }\r\n\r\n    /**\r\n     * @this Color\r\n     * @returns {string} String value of the color. `#fd45a7`.\r\n     */\r\n    stringify() {\r\n        let color = hexa2(this.R * 255) + hexa2(this.G * 255) + hexa2(this.B * 255);\r\n        if (this.A < 1) {\r\n            color += hexa2(this.A * 255);\r\n        }\r\n        return `#${color}`;\r\n    }\r\n\r\n    copy() {\r\n        const newColor = new Color();\r\n        newColor.R = this.R;\r\n        newColor.G = this.G;\r\n        newColor.B = this.B;\r\n        newColor.A = this.A;\r\n        newColor.H = this.H;\r\n        newColor.S = this.S;\r\n        newColor.L = this.L;\r\n        return newColor;\r\n    }\r\n\r\n    /**\r\n         * @see https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\r\n         * @this Color\r\n         * @returns {undefined}\r\n         */\r\n    hsl2rgb() {\r\n        const\r\n            H = 6 * this.H,\r\n            S = this.S,\r\n            L = this.L,\r\n            chroma = (1 - Math.abs(2 * L - 1)) * S,\r\n            x = chroma * (1 - Math.abs(H % 2 - 1));\r\n\r\n        let R = 0, G = 0, B = 0;\r\n\r\n        if (H < 3) {\r\n            if (H < 1) {\r\n                R = chroma; G = x; B = 0;\r\n            } else if (H < 2) {\r\n                R = x; G = chroma; B = 0;\r\n            } else {\r\n                // H == 2.\r\n                R = 0; G = chroma; B = x;\r\n            }\r\n        } else if (H < 4) {\r\n            R = 0; G = x; B = chroma;\r\n        } else if (H < 5) {\r\n            R = x; G = 0; B = chroma;\r\n        } else {\r\n            R = chroma; G = 0; B = x;\r\n        }\r\n\r\n        const shift = L - chroma * 0.5;\r\n        this.R = R + shift;\r\n        this.G = G + shift;\r\n        this.B = B + shift;\r\n    }\r\n\r\n    rgb2hsl() {\r\n        const R = this.R;\r\n        const G = this.G;\r\n        const B = this.B;\r\n\r\n        const min = Math.min(R, G, B);\r\n        const max = Math.max(R, G, B);\r\n        const delta = max - min;\r\n\r\n        this.L = 0.5 * (max + min);\r\n\r\n        if (delta < 0.000001) {\r\n            this.H = 0;\r\n            this.S = 0;\r\n        }\r\n        else {\r\n            this.S = delta / (1 - Math.abs(2 * this.L - 1));\r\n            if (max === R) {\r\n                if (G >= B) {\r\n                    this.H = INV6 * ((G - B) / delta);\r\n                } else {\r\n                    this.H = 1 - INV6 * ((B - G) / delta);\r\n                }\r\n            }\r\n            else if (max === G) {\r\n                this.H = INV6 * (2 + (B - R) / delta);\r\n            }\r\n            else {\r\n                this.H = INV6 * (4 + (R - G) / delta);\r\n            }\r\n        }\r\n    }\r\n\r\n    private parseHexa(text: string) {\r\n        if (text.charAt(0) !== '#') return false;\r\n        let R = 0, G = 0, B = 0, A = 1;\r\n\r\n        switch (text.length) {\r\n            case 4:\r\n                R = parseInt(text.charAt(1), 16) * INV15;\r\n                G = parseInt(text.charAt(2), 16) * INV15;\r\n                B = parseInt(text.charAt(3), 16) * INV15;\r\n                break;\r\n            case 5:\r\n                R = parseInt(text.charAt(1), 16) * INV15;\r\n                G = parseInt(text.charAt(2), 16) * INV15;\r\n                B = parseInt(text.charAt(3), 16) * INV15;\r\n                A = parseInt(text.charAt(4), 16) * INV15;\r\n                break;\r\n            case 7:\r\n                R = parseInt(text.substr(1, 2), 16) * INV255;\r\n                G = parseInt(text.substr(3, 2), 16) * INV255;\r\n                B = parseInt(text.substr(5, 2), 16) * INV255;\r\n                break;\r\n            case 9:\r\n                R = parseInt(text.substr(1, 2), 16) * INV255;\r\n                G = parseInt(text.substr(3, 2), 16) * INV255;\r\n                B = parseInt(text.substr(5, 2), 16) * INV255;\r\n                A = parseInt(text.substr(7, 2), 16) * INV255;\r\n                break;\r\n            default:\r\n        }\r\n\r\n        if (isNaN(R) || isNaN(G) || isNaN(B) || isNaN(A)) {\r\n            this.R = this.G = this.B = this.A = 0;\r\n        } else {\r\n            this.R = R;\r\n            this.G = G;\r\n            this.B = B;\r\n            this.A = A;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @param   {string} text - `rgb(200, 140, 50)`\r\n     * @returns {boolean} `true` if `text` is a valid `rgb()` syntax.\r\n     */\r\n    private parseRGB(text: string) {\r\n        const m = RX_RGB.exec(text);\r\n        if (!m) return false;\r\n        this.R = clamp01(parseInt(m[1], 10) * INV255);\r\n        this.G = clamp01(parseInt(m[2], 10) * INV255);\r\n        this.B = clamp01(parseInt(m[3], 10) * INV255);\r\n        this.A = 1;\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @param   {string} text - `rgba(200, 140, 50, 0.5)`\r\n     * @returns {boolean} `true` if `text` is a valid `rgba()` syntax.\r\n     */\r\n    private parseRGBA(text: string) {\r\n        const m = RX_RGBA.exec(text);\r\n        if (!m) return false;\r\n        this.R = clamp01(parseInt(m[1], 10) * INV255);\r\n        this.G = clamp01(parseInt(m[2], 10) * INV255);\r\n        this.B = clamp01(parseInt(m[3], 10) * INV255);\r\n        this.A = clamp01(parseFloat(m[4]));\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @param   {string} text - `hsl(200, 140, 50)`\r\n     * @returns {boolean} `true` if `text` is a valid `hsl()` syntax.\r\n     */\r\n    private parseHSL(text: string) {\r\n        const m = RX_HSL.exec(text);\r\n        if (!m) return false;\r\n        this.H = clamp01(parseInt(m[1], 10) * INV359);\r\n        this.S = clamp01(parseInt(m[2], 10) * INV99);\r\n        this.L = clamp01(parseInt(m[3], 10) * INV99);\r\n        this.A = 1;\r\n        this.hsl2rgb();\r\n        return true;\r\n    }\r\n}\r\n\r\nconst\r\n    INV6 = 1 / 6,\r\n    INV15 = 1 / 15,\r\n    INV99 = 1 / 99,\r\n    INV255 = 1 / 255,\r\n    INV359 = 1 / 359;\r\n\r\nconst RX_RGB = /^RGB[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;\r\nconst RX_RGBA = /^RGBA[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)[^0-9\\.]+([0-9\\.]+)/;\r\nconst RX_HSL = /^HSL[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;\r\n\r\nfunction clamp01(value: number): number {\r\n    if (value < 0) return 0;\r\n    if (value > 1) return 1;\r\n    return value;\r\n}\r\n\r\nfunction hexa2(value: number) {\r\n    let out = Math.floor(value).toString(16);\r\n    if (out.length < 2) out = \"0\" + out;\r\n    return out;\r\n}\r\n","/**\n * Manage CSS styles.\n */\nexport default {\n    register: registerTheme,\n    apply: applyTheme,\n    get: getTheme,\n    bg0: makeGetCurrentColor(\"bg0\"),\n    bg1: makeGetCurrentColor(\"bg1\"),\n    bg2: makeGetCurrentColor(\"bg2\"),\n    bg3: makeGetCurrentColor(\"bg3\"),\n    bgP: makeGetCurrentColor(\"bgP\"),\n    bgPD: makeGetCurrentColor(\"bgPD\"),\n    bgPL: makeGetCurrentColor(\"bgPL\"),\n    bgS: makeGetCurrentColor(\"bgS\"),\n    bgSD: makeGetCurrentColor(\"bgSD\"),\n    bgSL: makeGetCurrentColor(\"bgSL\"),\n    black: makeGetCurrentColor(\"black\"),\n    white: makeGetCurrentColor(\"white\"),\n    isDark,\n    setFontSize,\n    normalize: completeWithDefaultValues\n};\n\ninterface IStyle {\n    bg0?: string;\n    bg1?: string;\n    bg2?: string;\n    bg3?: string;\n    bgP?: string;\n    bgPD?: string;\n    bgPL?: string;\n    bgS?: string;\n    bgSD?: string;\n    bgSL?: string;\n    fg0?: string;\n    fg1?: string;\n    fg2?: string;\n    fg3?: string;\n    fgP?: string;\n    fgPD?: string;\n    fgPL?: string;\n    fgS?: string;\n    fgSD?: string;\n    fgSL?: string;\n    black?: string;\n    white?: string;\n    [key: string]: string | undefined;\n};\n\ninterface ITheme {\n    bg0: string,\n    bg1: string,\n    bg2: string,\n    bg3: string,\n    bgP: string,\n    bgPL: string,\n    bgPD: string,\n    bgS: string,\n    bgSL: string,\n    bgSD: string,\n    black: string,\n    white: string\n}\n\n\n//################################################################################\n\nimport \"./theme.css\"\nimport Color from \"./color\"\n\ninterface IThemes {\n    css: { [name: string]: HTMLStyleElement };\n    vars: { [name: string]: IStyle }\n    current: string | null;\n}\n\n// Used for luminance computations. Because we need to know which text color\n// can be used based on the background's luminance.\nconst COLOR = new Color();\n\nconst THEME_COLOR_NAMES = [\"0\", \"1\", \"2\", \"3\", \"P\", \"PD\", \"PL\", \"S\", \"SD\", \"SL\"];\nconst THEMES: IThemes = {\n    css: {},\n    vars: {},\n    current: null\n};\n\nfunction registerTheme(themeName: string, _style: IStyle) {\n    const style = completeWithDefaultValues(_style);\n    THEMES.vars[themeName] = style;\n\n    let codeCSS = codeVariables(themeName, style);\n    codeCSS += codeBackground(themeName, style);\n    codeCSS += codeElevation(themeName, style);\n    codeCSS += codeText(themeName, style);\n\n    let styleElement = THEMES.css[themeName];\n    if (!styleElement) {\n        styleElement = document.createElement(\"style\");\n        document.getElementsByTagName('head')[0].appendChild(styleElement);\n        THEMES.css[themeName] = styleElement;\n    }\n\n    styleElement.textContent = codeCSS;\n}\n\nfunction codeText(themeName: string, style: IStyle) {\n    let codeCSS = '';\n    for (let depth = 1; depth <= 10; depth++) {\n        THEME_COLOR_NAMES.forEach(function(colorName) {\n            const fgColorName = `fg${colorName}`;\n            const bgColorName = `bg${colorName}`;\n            const styleFgColorName: string = style[fgColorName] as string;\n            const styleBgColorName: string = style[bgColorName] as string;\n            const bgClass = \".thm-bg\" + colorName;\n            const fgClass = \".thm-fg\" + colorName;\n            for (let position = 1; position <= depth; position++) {\n                const piecesFG = [];\n                const piecesSVG = [];\n                const piecesBG = [];\n                for (let index = 1; index <= depth; index++) {\n                    piecesBG.push(position === index ? bgClass : '*');\n                    piecesSVG.push(position === index ? bgClass : '*');\n                    piecesFG.push(position === index ? fgClass : '*');\n                    if (index === depth) {\n                        piecesBG.push(piecesBG.pop() + \".thm-fg\");\n                        piecesFG.push(piecesFG.pop() + fgClass);\n                    }\n                }\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesBG.join(\" > \")\n                    + \" { color: \" + styleFgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + removeTail(piecesBG.join(\" > \"), \".thm-fg\")\n                    + \" { color: \" + styleFgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesFG.join(\" > \")\n                    + \" { color: \" + styleBgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesSVG.join(\" > \")\n                    + \" .thm-svg-fill0\"\n                    + \" { fill: \" + styleFgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesSVG.join(\" > \")\n                    + \" .thm-svg-stroke0\"\n                    + \" { stroke: \" + styleFgColorName + \" }\\n\";\n            }\n        });\n    }\n    return codeCSS;\n}\n\nconst ALPHA_HEXA = \"123456789ABCDE\";\nfunction codeVariables(themeName: string, style: IStyle) {\n    let codeCSS = \"body.dom-theme-\" + themeName + '{\\n';\n    THEME_COLOR_NAMES.forEach(function(colorName) {\n        const s = style[`bg${colorName}`] as string;\n        codeCSS += `  --thm-bg${colorName}: ${s};\\n`;\n        for (const a of ALPHA_HEXA) {\n            codeCSS += `  --thm-bg${colorName}-${a}: ${s}${a}${a};\\n`;\n        }\n        COLOR.parse(s);\n        const pen = COLOR.luminanceStep() ? style.black : style.white;\n        codeCSS += `  --thm-fg${colorName}: ${pen};\\n`;\n        for (const a of ALPHA_HEXA) {\n            codeCSS += `  --thm-fg${colorName}-${a}: ${pen}${a}${a};\\n`;\n        }\n    });\n    style.white = normalize(style.white);\n    style.black = normalize(style.black);\n    codeCSS += `  --thm-white: ${style.white};\\n`;\n    codeCSS += `  --thm-black: ${style.black};\\n`;\n    for (const letter of ALPHA_HEXA) {\n        codeCSS += `  --thm-white-${letter}: ${style.white}${letter}${letter};\\n`;\n        codeCSS += `  --thm-black-${letter}: ${style.black}${letter}${letter};\\n`;\n    }\n    codeCSS += \"}\\n\";\n    return codeCSS;\n}\n\n\nfunction codeBackground(themeName: string, style: IStyle) {\n    var codeCSS = '';\n    THEME_COLOR_NAMES.forEach(function(colorName) {\n        codeCSS += \"body.dom-theme-\" + themeName + \".thm-bg\" + colorName\n            + \" { background-color: \" + style[`bg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-fg\" + colorName\n            + \" { color: \" + style[`fg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName\n            + \" { background-color: \" + style[`bg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-bottom\"\n            + \" { background: linear-gradient(to top,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-top\"\n            + \" { background: linear-gradient(to bottom,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-left\"\n            + \" { background: linear-gradient(to right,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-right\"\n            + \" { background: linear-gradient(to left,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n\n        if (!isNaN(parseInt(colorName))) return;\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-fill\" + colorName\n            + \" { fill: \"\n            + style[`bg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-stroke\" + colorName\n            + \" { stroke: \"\n            + style[`bg${colorName}`] + \" }\\n\";\n    });\n    return codeCSS;\n}\n\nconst ELEVATIONS: { [ele: string]: string[] } = {\n    \"0\": [\"none\"],\n    \"2\": [\"button\", \"card\"],\n    \"4\": [\"bar\"],\n    \"6\": [\"floating\"],\n    \"8\": [\"button:active\", \"button-raised\", \"card-raised\"],\n    \"9\": [\"sunmenu-0\"],\n    \"10\": [\"sunmenu-1\"],\n    \"11\": [\"sunmenu-2\"],\n    \"12\": [\"floating:active\"],\n    \"16\": [\"nav\"],\n    \"24\": [\"dialog\"]\n};\nfunction codeElevation(themeName: string, style: IStyle) {\n    COLOR.parse(style.bg2);\n    const luminance = COLOR.luminance();\n    var elevationColor = luminance < .6\n        ? addAlpha(style.white, 4)\n        : addAlpha(style.black, 6);\n    var codeCSS = '';\n    const elevationKeys = Object.keys(ELEVATIONS);\n    elevationKeys.forEach(function(elevationKey) {\n        const elevation = parseInt(elevationKey, 10);\n        ELEVATIONS[elevationKey].forEach(name => {\n            codeCSS += `body.dom-theme-${themeName} .thm-ele-${name} {\n  box-shadow: 0 ${elevation}px ${2 * elevation}px ${elevationColor}\n}\\n`;\n        })\n    });\n    return codeCSS;\n}\n\nfunction applyTheme(name: string, target: HTMLElement = document.body) {\n    if (!THEMES.css[name]) {\n        console.error(\"This theme has not been registered: \", name);\n        return;\n    }\n    var body = document.body;\n    if (typeof THEMES.current === 'string') {\n        body.classList.remove(`dom-theme-${THEMES.current}`);\n    }\n    THEMES.current = name;\n    body.classList.add(`dom-theme-${THEMES.current}`);\n}\n\nfunction getTheme(name: string = \"default\"): ITheme {\n    return THEMES.vars[name] as ITheme;\n}\n\nfunction completeBackgrounds(style: IStyle) {\n    let has0 = typeof style.bg0 === 'string';\n    const has1 = typeof style.bg1 === 'string';\n    const has2 = typeof style.bg2 === 'string';\n    let has3 = typeof style.bg3 === 'string';\n\n    if (has0 && has1 && has2 && has3) return\n\n    if (!has0 && !has1 && !has2 && !has3) {\n        style.bg0 = \"#E0E0E0\";\n        style.bg1 = \"#F5F5F5\";\n        style.bg2 = \"#FAFAFA\";\n        style.bg3 = \"#FFF\";\n        return;\n    }\n    if (has0 && !has1 && !has2 && !has3) {\n        style.bg3 = lightenBackground(style.bg0 as string);\n        has3 = true;\n    }\n    if (!has0 && !has1 && !has2 && has3) {\n        style.bg0 = darkenBackground(style.bg3 as string);\n        has3 = true;\n    }\n    const color0 = new Color(style.bg0);\n    const r0 = color0.R;\n    const g0 = color0.G;\n    const b0 = color0.B;\n    const color3 = new Color(style.bg3);\n    const r3 = color3.R;\n    const g3 = color3.G;\n    const b3 = color3.B;\n    const color1 = Color.newRGB((2 * r0 + r3) / 3, (2 * g0 + g3) / 3, (2 * b0 + b3) / 3);\n    const color2 = Color.newRGB((r0 + 2 * r3) / 3, (g0 + 2 * g3) / 3, (b0 + 2 * b3) / 3);\n    style.bg1 = color1.stringify();\n    style.bg2 = color2.stringify();\n}\n\nfunction completeWithDefaultValues(style: IStyle) {\n    if (typeof style === 'undefined') style = {};\n\n    completeBackgrounds(style);\n\n    if (typeof style.bgP !== 'string') style.bgP = \"#3E50B4\";\n    if (typeof style.bgPD !== 'string') style.bgPD = dark(style.bgP);\n    if (typeof style.bgPL !== 'string') style.bgPL = light(style.bgP);\n    if (typeof style.bgS !== 'string') style.bgS = rotateHue(style.bgP);\n    if (typeof style.bgSD !== 'string') style.bgSD = dark(style.bgS);\n    if (typeof style.bgSL !== 'string') style.bgSL = light(style.bgS);\n\n    if (typeof style.white !== 'string') style.white = '#fff';\n    if (typeof style.black !== 'string') style.black = '#000';\n\n    THEME_COLOR_NAMES.forEach(function(name) {\n        const bg: string = style[`bg${name}`] || '#000';\n        COLOR.parse(bg);\n        var luminance = COLOR.luminance();\n        style[`fg${name}`] = luminance < .6 ? style.white : style.black;\n    });\n\n    return style;\n}\n\nfunction dark(color: string) {\n    const percent = .25;\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L *= 1 - percent;\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction darkenBackground(color: string) {\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L = Math.max(0, COLOR.L - 0.15);\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction light(color: string) {\n    var percent = .4;\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L = percent + (1 - percent) * COLOR.L;\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction lightenBackground(color: string) {\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L = Math.min(1, COLOR.L + 0.3);\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction rotateHue(color: string): string {\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.H = COLOR.H + .5;\n    if (COLOR.H > 1) COLOR.H--;\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\n/**\n * @param {string} color - RGB color in format #xxx or #xxxxxx.\n * @param {string} alpha - Single char between 0 and F.\n */\nfunction addAlpha(color: string, alpha: string) {\n    if (color.length < 5) return color + alpha;\n    return color + alpha + alpha;\n}\n\nfunction removeTail(text: string, tail: string) {\n    return text.substr(0, text.length - tail.length);\n}\n\nfunction isDark(colorName: string = \"\"): boolean {\n    if (colorName === \"\") return isThemeGloballyDark();\n\n    const vars = THEMES.vars[THEMES.current || \"default\"];\n    const varName = `$isDark/${colorName}`;\n    let isDark = vars[varName];\n    if (typeof isDark === 'boolean') return isDark;\n\n    const color = new Color(vars[colorName]);\n    vars[varName] = !color.luminanceStep();\n    return vars[varName];\n}\n\nfunction isThemeGloballyDark(): boolean {\n    const vars = THEMES.vars[THEMES.current || \"default\"];\n    let isDark = vars.$isDark;\n    if (typeof isDark === 'boolean') return isDark;\n\n    const bg0 = new Color(vars.bg0);\n    const bg1 = new Color(vars.bg1);\n    const bg2 = new Color(vars.bg2);\n    const bg3 = new Color(vars.bg3);\n    const average = Color.mix(\n        Color.mix(bg0, bg1),\n        Color.mix(bg2, bg3)\n    );\n    vars.$isDark = !average.luminanceStep();\n    return vars.$isDark;\n}\n\nfunction makeGetCurrentColor(colorName: string): () => string {\n    return () => THEMES.vars[THEMES.current || \"default\"][colorName];\n}\n\nfunction setFontSize(size: \"small\" | \"medium\" | \"large \") {\n    document.body.classList.add(`thm-font-size-${size}`);\n}\n\nfunction normalize(hexa: string): string {\n    const color = new Color(hexa);\n    return color.stringify();\n}\n\nregisterTheme(\"default\", { bgP: \"#1e90ff\" });\n","export default function castBoolean(v: any, defaultValue = false): boolean {\r\n    switch (typeof v) {\r\n        case \"undefined\":\r\n            return defaultValue;\r\n        case \"boolean\":\r\n            return v;\r\n        case \"number\":\r\n            return v != 0;\r\n        case \"string\":\r\n            const text = v.trim().toLowerCase();\r\n            if (text === 'true' || text === 'yes') return true;\r\n            const num = parseInt(text);\r\n            if (!isNaN(num)) return num !== 0;\r\n            return false;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nconst RX_CSS_UNIT = /^(-?[.0-9]+)[ \\n\\r]*([a-z%]*)/;\r\n\r\nexport default function castUnit(v: any, defaultValue: string = \"100%\") {\r\n    if (typeof v === 'number') return `${v}px`;\r\n    if (typeof v !== 'string') return defaultValue;\r\n    const text = `${v}`.trim().toLowerCase();\r\n    if (text === 'auto' || text === 'inherit') return text;\r\n    if (text.startsWith(\"calc(\")) return text;\r\n    const m = RX_CSS_UNIT.exec(text);\r\n    if (!m) return defaultValue;\r\n    const scalar = parseFloat(m[1]);\r\n    if (isNaN(scalar) || scalar === 0) return \"0\";\r\n    const unit = m[2].length < 1 ? \"px\" : m[2];\r\n    return `${scalar}${unit}`;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * @module\r\n * This module provides a list of SVG icons definitions.\r\n * You can register new one if you wish.\r\n */\r\n\r\n\r\nexport type TIconDefinition =\r\n    [string, {}] |\r\n    [string, TIconDefinitionArray] |\r\n    [string, {}, TIconDefinitionArray] |\r\n    [string, TIconDefinitionArray, {}];\r\n\r\ninterface TIconDefinitionArray extends Array<TIconDefinition> { }\r\n\r\nexport interface IIconsDefinition {\r\n    [name: string]: TIconDefinition\r\n}\r\n\r\n\r\n\r\n/**\r\n * Register new icons.\r\n * @param {object}  icons - The  keys are the  name of the  icons, the\r\n * value is the object representing an SVG image.\r\n * @returns {undefined}\r\n */\r\nexport function register(icons: IIconsDefinition): void {\r\n    for (const key of Object.keys(icons)) {\r\n        const val: TIconDefinition = icons[key];\r\n        iconsBook[key] = val;\r\n    }\r\n};\r\n\r\n/**\r\n * @param {string} d - Path definition, as in the attribute `d` of the\r\n * SVG tag `path`.\r\n * @returns {array} SVG description.\r\n */\r\nfunction draw(d: string): TIconDefinition {\r\n    return ['path', { d, stroke: 'none', fill: 0 }];\r\n}\r\n\r\n\r\nexport const iconsBook: IIconsDefinition = {\r\n    android: draw('M15,-35H10V-40H15M-10,-35H-15V-40H-10M18,-49L24,-56C25,-57,25,-58,24,-59C23,-60,22,-60,21,-59L13,-52C9,-54,5,-55,0,-55C-5,-55,-9,-54,-13,-52L-21,-59C-22,-60,-23,-60,-24,-59C-25,-58,-25,-57,-24,-56L-18,-49C-25,-44,-30,-35,-30,-25H30C30,-35,25,-44,18,-49M43,-20A8,8,0,0,0,35,-12V23A8,8,0,0,0,43,30A8,8,0,0,0,50,23V-12A8,8,0,0,0,43,-20M-42,-20A8,8,0,0,0,-50,-12V23A8,8,0,0,0,-42,30A8,8,0,0,0,-35,23V-12A8,8,0,0,0,-42,-20M-30,30A5,5,0,0,0,-25,35H-20V53A8,8,0,0,0,-12,60A8,8,0,0,0,-5,53V35H5V53A8,8,0,0,0,13,60A8,8,0,0,0,20,53V35H25A5,5,0,0,0,30,30V-20H-30V30Z'),\r\n    bug: draw(\"M10,0H-10V-10H10M10,20H-10V10H10M40,-20H26C24,-24 21,-27 17,-30L25,-38L18,-45L7,-34C5,-35 3,-35 0,-35C-2,-35 -5,-35 -7,-34L-18,-45L-25,-38L-17,-30C-21,-27 -24,-24 -26,-20H-40V-10H-30C-30,-8 -30,-7 -30,-5V0H-40V10H-30V15C-30,17 -30,18 -30,20H-40V30H-26C-21,39 -11,45 0,45C11,45 21,39 26,30H40V20H30C30,18 30,17 30,15V10H40V0H30V-5C30,-7 30,-8 30,-10H40V-20Z\"),\r\n    camera: draw('M-40,-40H-25L-15,-50H15L25,-40H40A10,10,0,0,1,50,-30V30A10,10,0,0,1,40,40H-40A10,10,0,0,1,-50,30V-30A10,10,0,0,1,-40,-40M0,-25A25,25,0,0,0,-25,0A25,25,0,0,0,0,25A25,25,0,0,0,25,0A25,25,0,0,0,0,-25M0,-15A15,15,0,0,1,15,0A15,15,0,0,1,0,15A15,15,0,0,1,-15,0A15,15,0,0,1,0,-15Z'),\r\n    cancel: draw('M7,0L35,28V35H28L0,7L-28,35H-35V28L-7,0L-35,-28V-35H-28L0,-7L28,-35H35V-28L7,0Z'),\r\n    center: draw(\r\n        'M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M35,35H15V45H35A10,10,0,0,0,45,35V15H35M35,-45H15V-35H35V-15H45V-35A10,10,0,0,0,35,-45M-35,-35H-15V-45H-35A10,10,0,0,0,-45,-35V-15H-35M-35,15H-45V35A10,10,0,0,0,-35,45H-15V35H-35V15Z'\r\n    ),\r\n    child: draw('M5,-50V-10H45A40,40,0,0,0,5,-50M37,19C42,13,45,4,45,-5H-28L-32,-15H-50V-5H-39C-39,-5,-29,15,-28,17C-34,20,-37,26,-37,33A18,18,0,0,0,-20,50C-11,50,-4,44,-3,35H8C9,44,16,50,25,50A18,18,0,0,0,43,33C43,27,40,23,37,19M-20,40A8,8,0,0,1,-27,33A8,8,0,0,1,-20,25A8,8,0,0,1,-12,33A8,8,0,0,1,-20,40M25,40A8,8,0,0,1,18,33A8,8,0,0,1,25,25A8,8,0,0,1,33,33A8,8,0,0,1,25,40Z'),\r\n    close: draw('M0,-50C28,-50,50,-28,50,0C50,28,28,50,0,50C-28,50,-50,28,-50,0C-50,-28,-28,-50,0,-50M18,-25L0,-7L-18,-25L-25,-18L-7,0L-25,18L-18,25L0,7L18,25L25,18L7,0L25,-18L18,-25Z'),\r\n    code: draw('M13,23L36,0L13,-23L20,-30L50,0L20,30L13,23M-13,23L-36,0L-13,-23L-20,-30L-50,0L-20,30L-13,23Z'),\r\n    copy: draw('M35,45H-20V-25H35M35,-35H-20A10,10,0,0,0,-30,-25V45A10,10,0,0,0,-20,55H35A10,10,0,0,0,45,45V-25A10,10,0,0,0,35,-35M20,-55H-40A10,10,0,0,0,-50,-45V25H-40V-45H20V-55Z'),\r\n    counter: draw('M-40,-40H40A10,10,0,0,1,50,-30V30A10,10,0,0,1,40,40H-40A10,10,0,0,1,-50,30V-30A10,10,0,0,1,-40,-40M-40,-30V30H-5V-30H-40M40,30V-30H34C35,-27,35,-25,35,-24C34,-21,32,-17,31,-16L20,-3L36,-4L36,3L10,2L10,-3C10,-3,25,-19,26,-20C27,-22,30,-30,23,-30C16,-30,17,-23,17,-23L9,-23C9,-23,9,-27,11,-30H5V30H18L18,26L23,26C23,26,27,25,27,20C28,15,23,15,23,15C22,15,17,16,17,20H10C10,20,10,9,23,9C36,9,35,20,35,20C35,20,35,26,29,28L32,30H40M-15,20H-23V-9L-32,-6V-12L-16,-18H-15V20Z'),\r\n    delete: draw(\r\n        'M35,-40H18L13,-45H-12L-17,-40H-35V-30H35M-30,35A10,10,0,0,0,-20,45H20A10,10,0,0,0,30,35V-25H-30V35Z'),\r\n    direction: draw('M10,13V0H-10V15H-20V-5A5,5,0,0,1,-15,-10H10V-22L28,-5M49,-4L4,-49H3C2,-50,-2,-50,-4,-49L-49,-4C-50,-2,-50,2,-49,4L-4,49C-2,50,2,51,4,49L49,4C51,2,51,-2,49,-4Z'),\r\n    down: draw('M-30,-30L0,30,30,-30'),\r\n    'down-double': draw('M-30,-40L0,-10,30,-40M-30,10L0,40,30,10'),\r\n    edit: draw(\r\n        \"M24,-46C22,-46,20,-46,19,-44L8,-34L35,-7L45,-17C48,-21,48,-25,45,-28L29,-44C28,-46,26,-46,24,-46M5,-30L-36,11L-23,12L-22,23L-11,24L-9,37L31,-3M-39,15L-47,49L-14,40L-15,29L-27,28L-28,16\"\r\n    ),\r\n    eraser: draw('M21,-42L46,-17C50,-14,50,-7,46,-3L0,43C-8,50,-20,50,-28,43L-46,25C-50,21,-50,15,-46,11L7,-42C11,-46,17,-46,21,-42M-39,18L-21,36C-17,39,-11,39,-7,36L11,18L-14,-7L-39,18Z'),\r\n    'export': draw('M-35,40H35V30H-35M35,-15H15V-45H-15V-15H-35L0,20L35,-15Z'),\r\n    \"flag-jp\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,50h130v-100h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,45h120v-90h-120z\"\r\n            }],\r\n            [\"circle\", {\r\n                fill: \"#bc002d\",\r\n                r: 24\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-fr\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,50h130v-100h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#002395\",\r\n                d: \"M-60,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-20,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#ed2939\",\r\n                d: \"M20,45h40v-90h-40z\"\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-it\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,50h130v-100h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#009246\",\r\n                d: \"M-60,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-20,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#ce2b37\",\r\n                d: \"M20,45h40v-90h-40z\"\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-de\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,41h130v-82h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#ffce00\",\r\n                d: \"M-60,36h120v-24h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#dd0000\",\r\n                d: \"M-60,12h120v-24h-120z\"\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-en\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,37h130v-75h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#bb133e\",\r\n                d: \"M-60,32h120v-65h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,22h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,12h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,2h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,-8h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,-18h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,-28h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#002664\",\r\n                d: \"M-60,-33h48v35h-48z\"\r\n            }],\r\n\r\n        ]\r\n    ],\r\n    font: draw('M25,-20H40V40H45V45H25V40H30V25H10L3,40H10V45H-10V40H-5L25,-20M30,-15L13,20H30V-15M-35,-45H-10C-4,-45,0,-41,0,-35V20H-15V-5H-30V20H-45V-35C-45,-41,-41,-45,-35,-45M-30,-35V-15H-15V-35H-30Z'),\r\n    'format-align-center': draw('M-45,-45H45V-35H-45V-45M-25,-25H25V-15H-25V-25M-45,-5H45V5H-45V-5M-25,15H25V25H-25V15M-45,35H45V45H-45V35Z'),\r\n    'format-align-justify': draw('M-45,-45H45V-35H-45V-45M-45,-25H45V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H45V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-align-left': draw('M-45,-45H45V-35H-45V-45M-45,-25H15V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H15V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-align-right': draw(' M-45,-45H45V-35H-45V-45M-15,-25H45V-15H-15V-25M-45,-5H45V5H-45V-5M-15,15H45V25H-15V15M-45,35H45V45H-45V35Z '),\r\n    'format-bold': draw('M8,18H-10V3H8A8,8,0,0,1,15,10A8,8,0,0,1,8,18M-10,-27H5A8,8,0,0,1,13,-20A8,8,0,0,1,5,-12H-10M18,-6C23,-9,26,-15,26,-20C26,-31,18,-40,6,-40H-25V30H10C21,30,29,22,29,11C29,3,24,-3,18,-6Z'),\r\n    'format-italic': draw('M-10,-40V-25H1L-16,15H-30V30H10V15H-1L16,-25H30V-40H-10Z'),\r\n    'format-float-center': draw('M-15,-25H15V5H-15V-25M-45,-45H45V-35H-45V-45M-45,15H45V25H-45V15M-45,35H25V45H-45V35Z'),\r\n    'format-float-left': draw('M-45,-25H-15V5H-45V-25M-45,-45H45V-35H-45V-45M45,-25V-15H-5V-25H45M45,-5V5H-5V-5H45M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-float-none': draw('M-45,-25H-15V5H-45V-25M-45,-45H45V-35H-45V-45M45,-5V5H-5V-5H45M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-float-right': draw('M15,-25H45V5H15V-25M-45,-45H45V-35H-45V-45M5,-25V-15H-45V-25H5M-15,-5V5H-45V-5H-15M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-header': draw('M-40,-40H-30V-10H-10V-40H0V30H-10V0H-30V30H-40V-40M13,-23L31,-5L13,13L20,20L45,-5L20,-30L13,-23Z'),\r\n    'format-underline': draw(\r\n        'M-35,45H35V35H-35V45M0,25A30,30,0,0,0,30,-5V-45H18V-5A18,18,0,0,1,0,13A18,18,0,0,1,-17,-5V-45H-30V-5A30,30,0,0,0,0,25Z'\r\n    ),\r\n    fullscreen: draw('M-35,-35H-10V-25H-25V-10H-35V-35M10,-35H35V-10H25V-25H10V-35M25,10H35V35H10V25H25V10M-10,25V35H-35V10H-25V25H-10Z'),\r\n    gear: draw(\r\n        'M0,18A18,18,0,0,1,-17,0A18,18,0,0,1,0,-17A18,18,0,0,1,18,0A18,18,0,0,1,0,18M37,5C37,3,38,2,38,0C38,-2,37,-3,37,-5L48,-13C49,-14,49,-15,48,-16L38,-34C38,-35,36,-35,35,-35L23,-30C20,-32,18,-33,14,-35L13,-48C12,-49,11,-50,10,-50H-10C-11,-50,-12,-49,-12,-48L-14,-35C-17,-33,-20,-32,-23,-30L-35,-35C-36,-35,-38,-35,-38,-34L-48,-16C-49,-15,-49,-14,-48,-13L-37,-5C-37,-3,-37,-2,-37,0C-37,2,-37,3,-37,5L-48,13C-49,14,-49,15,-48,16L-38,34C-38,35,-36,35,-35,35L-23,30C-20,32,-17,33,-14,35L-12,48C-12,49,-11,50,-10,50H10C11,50,12,49,13,48L14,35C18,33,20,32,23,30L35,35C36,35,38,35,38,34L48,16C49,15,49,14,48,13L37,5Z'\r\n    ),\r\n    gps: draw(\r\n        'M0,-20A20,20,0,0,1,20,0A20,20,0,0,1,0,20A20,20,0,0,1,-20,0A20,20,0,0,1,0,-20M-45,5H-55V-5H-45C-42,-26,-26,-42,-5,-45V-55H5V-45C26,-42,43,-26,45,-5H55V5H45C43,26,26,43,5,45V55H-5V45C-26,43,-42,26,-45,5M0,-35A35,35,0,0,0,-35,0A35,35,0,0,0,0,35A35,35,0,0,0,35,0A35,35,0,0,0,0,-35Z'\r\n    ),\r\n    hand: draw(\r\n        \"M-10,-50A10,10,0,0,1,0,-40V-17C0,-17,10,-19,10,-14C10,-14,20,-15,20,-10C20,-10,30,-11,30,-6C30,-6,40,-7,40,-2V15C40,20,25,45,25,50H-15C-15,50,-25,15,-40,5C-40,5,-45,-25,-20,0V-40A10,10,0,0,1,-10,-50Z\"\r\n    ),\r\n    heart: draw('M0,47L-7,40C-33,17,-50,1,-50,-17C-50,-33,-38,-45,-22,-45C-14,-45,-5,-41,0,-35C5,-41,14,-45,23,-45C38,-45,50,-33,50,-17C50,1,33,17,7,40L0,47Z'),\r\n    hide: draw(\r\n        'M-1,-15L15,1C15,1,15,0,15,0A15,15,0,0,0,0,-15C0,-15,-1,-15,-1,-15M-22,-11L-15,-3C-15,-2,-15,-1,-15,0A15,15,0,0,0,0,15C1,15,2,15,3,15L11,22C8,24,4,25,0,25A25,25,0,0,1,-25,0C-25,-4,-24,-8,-22,-11M-50,-39L-39,-27L-36,-25C-45,-18,-51,-10,-55,0C-46,22,-25,38,0,38C8,38,15,36,22,33L24,35L39,50L45,44L-44,-45M0,-25A25,25,0,0,1,25,0C25,3,24,6,23,9L38,24C45,18,51,9,55,0C46,-22,25,-37,0,-37C-7,-37,-14,-36,-20,-34L-9,-23C-6,-24,-3,-25,0,-25Z'\r\n    ),\r\n    home: draw('M-10,40V10H10V40H35V0H50L0,-45L-50,0H-35V40H-10Z'),\r\n    image: draw('M5,-15H33L5,-42V-15M-30,-50H10L40,-20V40A10,10,0,0,1,30,50H-30C-36,50,-40,46,-40,40V-40C-40,-46,-36,-50,-30,-50M-30,40H15L30,40V0L10,20L0,10L-30,40M-20,-15A10,10,0,0,0,-30,-5A10,10,0,0,0,-20,5A10,10,0,0,0,-10,-5A10,10,0,0,0,-20,-15Z'),\r\n    import: draw('M-15,20V-10H-35L0,-45L35,-10H15V20H-15M-35,40V30H35V40H-35Z'),\r\n    improvement: draw(\"M0,50A50,50,0,0,1,-50,0A50,50,0,0,1,0,-50A50,50,0,0,1,50,0A50,50,0,0,1,0,50M0,-25L-25,0H-10V20H10V0H25L0,-25Z\"),\r\n    info: draw('M8,-40A8,8,0,0,0,0,-32A8,8,0,0,0,8,-25A8,8,0,0,0,15,-32A8,8,0,0,0,8,-40M6,-16C0,-16,-17,-3,-17,-3C-17,-2,-17,-2,-16,-1C-16,1,-16,1,-15,0C-14,0,-12,-2,-9,-3C1,-10,-8,6,-12,32C-14,45,-2,39,1,37C4,35,12,29,13,28C14,28,13,27,12,26C12,25,11,26,11,26C8,28,2,32,1,29C0,27,6,7,9,-6C10,-10,12,-17,6,-16Z'),\r\n    left: ['path', { fill: 0, d: 'M40,-5V5H-20L8,33L0,40L-39,0L0,-40L8,-32L-20,-5H40Z' }],\r\n    'left-double': draw('M-10,-30L-40,0,-10,30M40,-30L10,0,40,30'),\r\n    link: draw('M-7,7C-5,9,-5,12,-7,14C-9,16,-12,16,-14,14C-24,4,-24,-11,-14,-21V-21L4,-39C13,-49,29,-49,39,-39C49,-29,49,-13,39,-4L31,4C32,0,31,-4,29,-8L32,-11C38,-16,38,-26,32,-32C26,-38,16,-38,11,-32L-7,-14C-13,-8,-13,1,-7,7M7,-14C9,-16,12,-16,14,-14C24,-4,24,11,14,21V21L-4,39C-13,49,-29,49,-39,39C-49,29,-49,13,-39,4L-31,-4C-31,0,-31,4,-29,8L-32,11C-38,16,-38,26,-32,32C-26,38,-16,38,-11,32L7,14C13,8,13,-1,7,-7C5,-9,5,-12,7,-14Z'),\r\n    location: draw('M0,-2A13,13,0,0,1,-12,-15A13,13,0,0,1,0,-27A13,13,0,0,1,13,-15A13,13,0,0,1,0,-2M0,-50A35,35,0,0,0,-35,-15C-35,11,0,50,0,50C0,50,35,11,35,-15A35,35,0,0,0,0,-50Z'),\r\n    logout: draw(\r\n        \"M25,26V10H-10V-10H25V-26L51,0L25,26M5,-50A10,10,0,0,1,15,-40V-20H5V-40H-40V40H5V20H15V40A10,10,0,0,1,5,50H-40A10,10,0,0,1,-50,40V-40A10,10,0,0,1,-40,-50H5Z\"\r\n    ),\r\n    mail: draw(\r\n        'M40,-40H-40A10,10,0,0,0,-50,-30V30A10,10,0,0,0,-40,40H40A10,10,0,0,0,50,30V-30A10,10,0,0,0,40,-40M40,30H-40V-20L0,5L40,-20V30M40,-30L0,-5L-40,-30V-30H40V-30Z'\r\n    ),\r\n    map: draw('M15,35L-15,24V-35L15,-24M43,-45C42,-45,42,-45,42,-45L15,-34L-15,-45L-43,-35C-44,-35,-45,-34,-45,-33V43A3,3,0,0,0,-42,45C-42,45,-42,45,-42,45L-15,34L15,45L43,36C44,35,45,34,45,33V-42A3,3,0,0,0,43,-45Z'),\r\n    \"map-layer\": draw('M0,20L37,-9L45,-15L0,-50L-45,-15L-37,-9M0,33L-37,4L-45,10L0,45L45,10L37,4L0,33Z'),\r\n    menu: draw('M-45,-30H45V-20H-45V-30M-45,-5H45V5H-45V-5M-45,20H45V30H-45V20Z'),\r\n    minus: draw('M35,5H-35V-5H35V5Z'),\r\n    \"minus-o\": draw('M0,40C-22,40,-40,22,-40,0C-40,-22,-22,-40,0,-40C22,-40,40,-22,40,0C40,22,22,40,0,40M0,-50A50,50,0,0,0,-50,0A50,50,0,0,0,0,50A50,50,0,0,0,50,0A50,50,0,0,0,0,-50M-25,5H25V-5H-25'),\r\n    \"minus-small\": draw('M35,35V-35H-35V35H35M35,-45A10,10,0,0,1,45,-35V35A10,10,0,0,1,35,45H-35A10,10,0,0,1,-45,35V-35C-45,-41,-40,-45,-35,-45H35M25,-5V5H-25V-5H25Z'),\r\n    ok: draw('M45,-25L-15,35L-42,8L-35,0L-15,21L38,-32L45,-25Z'),\r\n    pack: ['path', { fill: 0, d: 'M45,23C45,24,44,26,42,27L3,49C2,50,1,50,0,50C-1,50,-2,50,-3,49L-42,27C-44,26,-45,24,-45,23V-22C-45,-24,-44,-26,-42,-27L-3,-49C-2,-50,-1,-50,0,-50C1,-50,2,-50,3,-49L42,-27C44,-26,45,-24,45,-22V23M0,-39L-35,-20V20L0,39L35,20V-20L0,-39M0,-29L24,-15L0,-1L-24,-15L0,-29M25,14L5,26V8L25,-3V14M-5,26L-25,14V-3L-5,8V26Z' }],\r\n    plug: draw('M20,-25V-45H10V-25H-10V-45H-20V-25H-20C-25,-25,-30,-20,-30,-15V13L-12,30V45H13V30L30,13V-15C30,-20,25,-25,20,-25Z'),\r\n    plus: draw('M35,5H5V35H-5V5H-35V-5H-5V-35H5V-5H35V5Z'),\r\n    \"plus-o\": draw('M0,40C-22,40,-40,22,-40,0C-40,-22,-22,-40,0,-40C22,-40,40,-22,40,0C40,22,22,40,0,40M0,-50A50,50,0,0,0,-50,0A50,50,0,0,0,0,50A50,50,0,0,0,50,0A50,50,0,0,0,0,-50M5,-25H-5V-5H-25V5H-5V25H5V5H25V-5H5V-25Z'),\r\n    \"plus-small\": draw('M35,35V-35H-35V35H35M35,-45A10,10,0,0,1,45,-35V35A10,10,0,0,1,35,45H-35A10,10,0,0,1,-45,35V-35C-45,-41,-40,-45,-35,-45H35M-5,-25H5V-5H25V5H5V25H-5V5H-25V-5H-5V-25Z'),\r\n    print: ['path', {\r\n        fill: 0,\r\n        d: 'M30,-45H-30V-25H30M35,0A5,5,0,0,1,30,-5A5,5,0,0,1,35,-10A5,5,0,0,1,40,-5A5,5,0,0,1,35,0M20,35H-20V10H20M35,-20H-35A15,15,0,0,0,-50,-5V25H-30V45H30V25H50V-5A15,15,0,0,0,35,-20Z'\r\n    }],\r\n    question: draw(\"M-10,35H5V50H-10V35M0,-50C27,-49,38,-22,23,-2C18,3,12,7,8,11C5,15,5,20,5,25H-10C-10,17,-10,10,-7,5C-3,0,3,-3,8,-7C20,-18,17,-34,0,-35A15,15,0,0,0,-15,-20H-30A30,30,0,0,1,0,-50Z\"),\r\n    redo: draw('M32,-7C23,-15,11,-20,-2,-20C-26,-20,-45,-5,-52,16L-40,20C-35,4,-20,-7,-2,-7C7,-7,16,-4,23,2L5,20H50V-25L32,-7Z'),\r\n    refresh: draw('M28,-28C21,-35,11,-40,0,-40A40,40,0,0,0,-40,0A40,40,0,0,0,0,40C19,40,34,27,39,10H28C24,22,13,30,0,30A30,30,0,0,1,-30,0A30,30,0,0,1,0,-30C8,-30,16,-27,21,-21L5,-5H40V-40L28,-28Z'),\r\n    right: ['path', { fill: 0, d: 'M-40,-5V5H20L-7,33L0,40L39,0L0,-40L-7,-32L20,-5H-40Z' }],\r\n    'right-double': draw('M10,-30L40,0,10,30M-40,-30L-10,0,-40,30'),\r\n    run: draw('M23,-32A10,10,0,0,0,33,-42A10,10,0,0,0,23,-52A10,10,0,0,0,13,-42A10,10,0,0,0,23,-32M5,37L10,15L20,25V55H30V18L20,8L23,-7C29,0,39,5,50,5V-5C41,-5,33,-9,28,-17L23,-25C22,-28,18,-30,15,-30C13,-30,13,-29,11,-29L-15,-18V5H-5V-12L4,-15L-4,25L-28,20L-30,30L5,37M-40,-15A5,5,0,0,1,-45,-20A5,5,0,0,1,-40,-25H-25V-15H-40M-35,-35A5,5,0,0,1,-40,-40A5,5,0,0,1,-35,-45H-10V-35H-35M-45,5A5,5,0,0,1,-50,0A5,5,0,0,1,-45,-5H-25V5H-45Z'),\r\n    search: draw('M-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45M-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35Z'),\r\n    select: draw('M35,35H-35V-35H15V-45H-35C-41,-45,-45,-41,-45,-35V35A10,10,0,0,0,-35,45H35A10,10,0,0,0,45,35V-5H35M-20,-10L-27,-2L-5,20L45,-30L38,-37L-5,6L-20,-10Z'),\r\n    sitemap: draw('M-15,-50V-20H-5V-5H-35C-41,-5,-45,-1,-45,5V20H-55V50H-25V20H-35V5H-5V20H-15V50H15V20H5V5H35V20H25V50H55V20H45V5C45,-1,41,-5,35,-5H5V-20H15V-50H-15Z'),\r\n    unselect: draw('M35,-45H-35C-41,-45,-45,-41,-45,-35V35A10,10,0,0,0,-35,45H35A10,10,0,0,0,45,35V-35C45,-41,41,-45,35,-45M35,-35V35H-35V-35H35Z'),\r\n    share: draw('M30,20C26,20,23,22,20,24L-15,3C-15,2,-15,1,-15,0C-15,-1,-15,-2,-15,-3L20,-24C23,-22,26,-20,30,-20A15,15,0,0,0,45,-35A15,15,0,0,0,30,-50A15,15,0,0,0,15,-35C15,-34,15,-33,15,-31L-20,-11C-22,-13,-26,-15,-30,-15A15,15,0,0,0,-45,0A15,15,0,0,0,-30,15C-26,15,-22,13,-20,11L16,32C16,33,15,34,15,35C15,43,22,50,30,50C38,50,45,43,45,35A15,15,0,0,0,30,20Z'),\r\n    show: draw('M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M0,25A25,25,0,0,1,-25,0A25,25,0,0,1,0,-25A25,25,0,0,1,25,0A25,25,0,0,1,0,25M0,-37C-25,-37,-46,-22,-55,0C-46,22,-25,38,0,38C25,38,46,22,55,0C46,-22,25,-37,0,-37Z'),\r\n    speaker: draw('M40,35L33,28C41,21,45,11,45,0C45,-11,41,-21,33,-28L40,-35C49,-26,55,-14,55,0C55,14,49,26,40,35M26,21L19,14C23,11,25,6,25,0C25,-6,23,-11,19,-14L26,-21C32,-16,35,-8,35,0C35,8,32,16,26,21M-40,-45H0A10,10,0,0,1,10,-35V35A10,10,0,0,1,0,45H-40A10,10,0,0,1,-50,35V-35A10,10,0,0,1,-40,-45M-20,-35A10,10,0,0,0,-30,-25A10,10,0,0,0,-20,-15A10,10,0,0,0,-10,-25A10,10,0,0,0,-20,-35M-20,-5A20,20,0,0,0,-40,15A20,20,0,0,0,-20,35A20,20,0,0,0,0,15A20,20,0,0,0,-20,-5M-20,5A10,10,0,0,1,-10,15A10,10,0,0,1,-20,25A10,10,0,0,1,-30,15A10,10,0,0,1,-20,5Z'),\r\n    \"split-vertical\": draw('M30,20V5H15V50H5V-50H15V-5H30V-20L50,0L30,20M-50,0L-30,20V5H-15V50H-5V-50H-15V-5H-30V-20L-50,0Z'),\r\n    \"split-horizontal\": draw('M-20,30H-5V15H-50V5H50V15H5V30H20L0,50L-20,30M0,-50L-20,-30H-5V-15H-50V-5H50V-15H5V-30H20L0,-50Z'),\r\n    star: draw('M0,26L31,45L23,10L50,-14L14,-17L0,-50L-14,-17L-50,-14L-23,10L-31,45L0,26Z'),\r\n    stat: draw('M-45,50V-20H-25V50H-45M-10,50V-50H10V50H-10M25,50V10H45V50H25Z'),\r\n    'switch': draw('M-45,-40V3L-30,-12L-15,5C-10,10,-10,15,-10,15V45H10V10C10,10,10,5,7,0C5,-5,0,-10,0,-10L-15,-27L-2,-40M30,-40L8,-18L10,-15C10,-15,15,-10,17,-5C18,-3,19,-1,19,1L45,-25'),\r\n    'tri-down': draw('M-23,-17L0,6L23,-17L30,-10L0,20L-30,-10L-23,-17Z'),\r\n    'tri-left': draw('M17,23L-6,0L17,-23L10,-30L-20,0L10,30L17,23Z'),\r\n    'tri-right': draw('M-17,23L6,0L-17,-23L-10,-30L20,0L-10,30L-17,23Z'),\r\n    'tri-up': draw('M-23,17L0,-6L23,17L30,10L0,-20L-30,10L-23,17Z'),\r\n    twitter: draw('M52,-30C48,-28,44,-27,40,-27C44,-29,48,-33,49,-38C45,-36,41,-34,36,-33C32,-37,26,-40,20,-40C8,-40,-1,-30,-1,-19C-1,-17,-1,-15,-1,-14C-19,-15,-34,-23,-45,-36C-47,-33,-48,-29,-48,-25C-48,-18,-44,-11,-38,-7C-42,-7,-45,-8,-48,-10C-48,-10,-48,-10,-48,-10C-48,1,-41,9,-31,11C-33,12,-35,12,-37,12C-38,12,-39,12,-41,12C-38,20,-30,26,-21,26C-28,32,-37,36,-47,36C-49,36,-51,36,-52,35C-43,41,-31,45,-19,45C20,45,42,12,42,-16C42,-17,42,-18,42,-19C46,-22,49,-26,52,-30Z'),\r\n    undo: draw('M3,-20C-11,-20,-23,-15,-32,-7L-50,-25V20H-5L-23,2C-16,-4,-7,-7,3,-7C20,-7,35,4,41,20L52,16C45,-5,26,-20,3,-20Z'),\r\n    up: draw('M-30,30L0,-30,30,30'),\r\n    'up-double': draw('M-30,40L0,10,30,40M-30,-10L0,-40,30,-10'),\r\n    user: draw(\r\n        'M0,-40A20,20,0,0,1,20,-20A20,20,0,0,1,0,0A20,20,0,0,1,-20,-20A20,20,0,0,1,0,-40M0,10C22,10,40,19,40,30V40H-40V30C-40,19,-22,10,0,10Z'\r\n    ),\r\n    wait: draw('M0,-5A5,5,0,0,0,-5,0A5,5,0,0,0,0,5A5,5,0,0,0,5,0A5,5,0,0,0,0,-5M3,-50C25,-50,26,-32,14,-26C9,-24,7,-19,6,-14C8,-13,10,-11,12,-9C30,-19,50,-15,50,3C50,25,32,26,26,14C24,9,19,7,14,6C13,8,11,10,9,12C19,30,15,50,-2,50C-25,50,-25,32,-14,26C-9,24,-7,19,-6,14C-8,13,-10,11,-12,9C-30,19,-50,15,-50,-2C-50,-25,-32,-26,-26,-14C-24,-9,-19,-7,-14,-6C-13,-8,-11,-10,-9,-12C-19,-30,-15,-50,3,-50Z'),\r\n    \"zoom-in\": draw('M18,10L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18M-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10M0,-10H-10V0H-15V-10H-25V-15H-15V-25H-10V-15H0V-10Z'),\r\n    \"zoom-out\": draw('M18,10H14L12,9C17,3,20,-4,20,-12A33,33,0,0,0,-12,-45A33,33,0,0,0,-45,-12A33,33,0,0,0,-12,20C-4,20,3,17,9,12L10,14V18L35,43L43,35L18,10M-12,10C-25,10,-35,0,-35,-12C-35,-25,-25,-35,-12,-35C0,-35,10,-25,10,-12C10,0,0,10,-12,10M-25,-15H0V-10H-25V-15Z'),\r\n    warning: draw('M0,-50L-55,45H55M0,-30L38,35H-38M-5,-10V10H5V-10M-5,20V30H5V20')\r\n};\r\n\r\n\r\n// Synonyms.\r\nconst synonyms: { [name: string]: string } = {\r\n    add: \"plus\",\r\n    back: \"left\",\r\n    help: \"question\",\r\n    save: \"export\"\r\n};\r\nfor (const key of Object.keys(synonyms)) {\r\n    const val: string = synonyms[key];\r\n    iconsBook[key] = iconsBook[val];\r\n}\r\n","\"use strict\";\r\n\r\nimport * as React from \"react\";\r\nimport castBoolean from \"../converter/boolean\";\r\nimport castInteger from \"../converter/integer\";\r\nimport castUnit from \"../converter/unit\";\r\nimport { iconsBook, TIconDefinition } from \"../icons\";\r\nimport \"./icon.css\";\r\n\r\nenum EnumPenColor { B, F, P, PD, PL, S, SD, SL }\r\n\r\ninterface IIconProps {\r\n    visible?: boolean;\r\n    content?: string | TIconDefinition;\r\n    size?: string | number;\r\n    animate?: boolean;\r\n    flipH?: boolean;\r\n    flipV?: boolean;\r\n    rotate?: number;\r\n    pen0?: EnumPenColor;\r\n    pen1?: EnumPenColor;\r\n    pen2?: EnumPenColor;\r\n    pen3?: EnumPenColor;\r\n    pen4?: EnumPenColor;\r\n    pen5?: EnumPenColor;\r\n    pen6?: EnumPenColor;\r\n    pen7?: EnumPenColor;\r\n    onClick?: () => void;\r\n    onHide?: () => void;\r\n}\r\n\r\nexport default class Icon extends React.Component<IIconProps, {}> {\r\n    static isValidIconName(name: string): boolean {\r\n        return typeof iconsBook[name] !== 'undefined';\r\n    }\r\n\r\n    static getAllIconNames(): string[] {\r\n        return Object.keys(iconsBook).sort();\r\n    }\r\n\r\n    private refIcon: any;\r\n    private visible: boolean;\r\n    private timeoutHandle: number;\r\n\r\n    constructor(props: IIconProps) {\r\n        super(props);\r\n        this.refIcon = React.createRef();\r\n        this.visible = false;\r\n        this.timeoutHandle = 0;\r\n    }\r\n\r\n    triggerVisibleAnimation() {\r\n        const\r\n            elemIcon = this.refIcon.current,\r\n            visible = this.visible;\r\n        if( !elemIcon ) return;\r\n        if (this.timeoutHandle) {\r\n            window.clearTimeout(this.timeoutHandle);\r\n            this.timeoutHandle = 0;\r\n        }\r\n        requestAnimationFrame(() => {\r\n            if (visible) elemIcon.classList.remove(\"zero\");\r\n            else {\r\n                elemIcon.classList.add(\"zero\");\r\n                const slot = this.props.onHide;\r\n                if (typeof slot === 'function') {\r\n                    this.timeoutHandle = window.setTimeout(slot, 300);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            p = this.props,\r\n            visible = castBoolean(p.visible, true),\r\n            animate = castBoolean(p.animate, false),\r\n            flipH = castBoolean(p.flipH, false),\r\n            flipV = castBoolean(p.flipV, false),\r\n            size = castUnit(p.size, \"28px\"),\r\n            content = castContent(p.content),\r\n            rotate = castInteger(p.rotate, 0),\r\n            onClick = p.onClick,\r\n            classes = [\"tfw-view-icon\"];\r\n        const svgContent = createSvgContent(content, p);\r\n        if (!svgContent) return null;\r\n\r\n        if (animate) classes.push(\"animate\");\r\n        if (visible) classes.push(\"zero\");\r\n        if (typeof onClick === 'function') classes.push(\"active\");\r\n\r\n        let transform = \"\";\r\n        if (rotate !== 0) {\r\n            transform += `rotate(${rotate}deg) `;\r\n        }\r\n        if (flipH || flipV) {\r\n            transform += `scale(${flipH ? -1 : 1},${flipV ? -1 : 1})`;\r\n        }\r\n        const style: React.CSSProperties = { width: size, height: size };\r\n        if (transform.length > 0) style.transform = transform;\r\n\r\n        requestAnimationFrame(() => this.triggerVisibleAnimation());\r\n        this.visible = visible;\r\n\r\n        return (\r\n            <svg className={classes.join(\" \")}\r\n                ref={this.refIcon}\r\n                viewBox=\"-65 -65 130 130\"\r\n                preserveAspectRatio=\"xMidYMid\"\r\n                width={size}\r\n                height={size}\r\n                onClick={onClick}\r\n                style={style}>\r\n                {svgContent}\r\n                < g strokeWidth=\"6\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" >\r\n                    {createSvgContent(content, p)}\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n\r\nfunction createSvgContent(def: TIconDefinition, props: IIconProps, key: string = \"\"): any {\r\n    const\r\n        elementName = def[0],\r\n        { attributes, children } = parseDef(def);\r\n\r\n    if (typeof elementName === 'undefined') return <g></g>;\r\n\r\n    const attribs: React.Attributes = manageColors(attributes);\r\n    if (key.length > 0) attributes.key = key;\r\n\r\n    return React.createElement(\r\n        elementName,\r\n        attribs,\r\n        children.map((child, index) => createSvgContent(child, props, `${index}`))\r\n    ) as React.ReactSVGElement;\r\n}\r\n\r\nconst CLASSES = [\"0\", \"1\", \"P\", \"PL\", \"PD\", \"S\", \"SL\", \"SD\"];\r\n\r\n/**\r\n * If the value of the attribute \"fill\" is an element of CLASSES,\r\n * it will be removed and replace with a class.\r\n * Same thing for the attibute \"stroke\".\r\n *\r\n * @example\r\n * manageColors({ fill: \"1\" }) === { className: \"thn-svg-fill-1\" }\r\n *\r\n * @param   attribs [description]\r\n * @param   props   [description]\r\n * @returns         [description]\r\n */\r\nfunction manageColors(attribs: { [key: string]: any }) {\r\n    // @TODO For special forms of \"fill\" and \"stroke\", add classes.\r\n    const classes = (attribs.className || \"\").split(\" \");\r\n\r\n    [\"fill\", \"stroke\"].forEach(attribName => {\r\n        const attribValue = attribs[attribName];\r\n        if (typeof attribValue === 'undefined') return;\r\n        const key = `${attribValue}`.toUpperCase();\r\n        if (CLASSES.indexOf(key) === -1) return;\r\n        delete attribs[attribName];\r\n        classes.push(`thm-svg-${attribName}${key}`);\r\n    });\r\n\r\n    attribs.className = classes.join(\" \").trim();\r\n    return attribs;\r\n}\r\n\r\nfunction parseDef([name, arg1, arg2]: TIconDefinition) {\r\n    let attributes: undefined | {},\r\n        children: undefined | any[];\r\n\r\n    if (Array.isArray(arg1)) children = arg1;\r\n    else if (typeof arg1 !== 'undefined') attributes = arg1;\r\n    if (Array.isArray(arg2)) children = arg2;\r\n    else if (typeof arg2 !== 'undefined') attributes = arg2;\r\n\r\n    if (typeof attributes === 'undefined') attributes = {};\r\n    if (typeof children === 'undefined') children = [];\r\n\r\n    return { attributes, children };\r\n}\r\n\r\nfunction castContent(content: string | TIconDefinition = \"ok\"): TIconDefinition {\r\n    if (Array.isArray(content)) return content;\r\n    return iconsBook[content] || [];\r\n}\r\n","export default function castInteger(v: any, defaultValue = 0): number {\r\n    const defVal = Math.floor(.5 + defaultValue);\r\n\r\n    switch (typeof v) {\r\n        case \"boolean\":\r\n            return v ? 1 : 0;\r\n        case \"number\":\r\n            return Math.floor(.5 + v);\r\n        case \"string\":\r\n            const text = v.trim().toLowerCase();\r\n            if (text.startsWith(\"0x\")) {\r\n                const hexa = parseInt(text.substr(2), 16);\r\n                return isNaN(hexa) ? defVal : hexa;\r\n            }\r\n            if (text.startsWith(\"0b\")) {\r\n                const hexa = parseInt(text.substr(2), 2);\r\n                return isNaN(hexa) ? defVal : hexa;\r\n            }\r\n            if (text.startsWith(\"0o\")) {\r\n                const hexa = parseInt(text.substr(2), 8);\r\n                return isNaN(hexa) ? defVal : hexa;\r\n            }\r\n            const num = parseFloat(text);\r\n            if (isNaN(num)) return defVal;\r\n            return Math.floor(.5 + num);\r\n        default:\r\n            return defVal;\r\n    }\r\n}\r\n","export default function castString(value: any, defaultValue: string): string {\r\n    const t = typeof value;\r\n    if (t === 'number' && !isNaN(value)) {\r\n        return `${value}`;\r\n    }\r\n    if (t === 'string') return value;\r\n    return defaultValue;\r\n}\r\n","import castString from \"./string\";\n\n/**\n * If `value` is not an array, return `defaultArray`.\n * Else if `defaultString` is undefined, return `value`.\n * Else return a copy of `value` with a castString on all its elements.\n *\n * @param   value         [description]\n * @param   defaultArray  [description]\n * @param   defaultString [description]\n * @returns               [description]\n */\nexport default function castStringArray(\n    value: any, defaultArray: string[] = [], defaultString: string = \"\"\n) {\n    if (typeof value === 'string') return [value];\n    if (!Array.isArray(value)) return defaultArray;\n    if (typeof defaultString === 'undefined') return value;\n    return value.map(item => castString(item, defaultString));\n}\n","import * as React from \"react\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\nimport castStringArray from \"../converter/string-array\"\nimport \"./flex.css\"\n\ninterface IFlexProp {\n    wide?: boolean;\n    classes?: string[] | string;\n    dir?: \"row\" | \"row-reverse\" | \"column\" | \"column-reverse\" | \"wide\" | \"narrow\";\n    wrap?: \"nowrap\" | \"wrap\" | \"wrap-reverse\";\n    justifyContent?: \"flex-start\" | \"flex-end\" | \"center\" | \"space-around\" | \"space-between\" | \"space-evenly\";\n    alignItems?: \"stretch\" | \"flex-start\" | \"flex-end\" | \"center\";\n    children: React.ReactElement<any>[] | React.ReactElement<any>;\n}\n\nexport default class Flex extends React.Component<IFlexProp, {}> {\n    render() {\n        const p = this.props;\n        const wide = castBoolean(p.wide, true);\n        const dir = castString(p.dir, \"row\");\n        const style: React.CSSProperties = {\n            justifyContent: castString(p.justifyContent, \"space-around\"),\n            alignItems: castString(p.alignItems, \"center\"),\n            flexWrap: castString(p.wrap, \"wrap\")\n        };\n        const classes = [\"tfw-view-flex\", `dir-${dir}`];\n        classes.push(...castStringArray(p.classes));\n\n        if (wide) classes.push(\"wide\");\n\n        return (\n            <div className={classes.join(\" \")} style={style}>{\n                p.children\n            }</div>\n        )\n    }\n}\n","/**\r\n * The ESCAPE key is often used to close a dialog, collapse a combo list, ...\r\n * This module helps you nesting closable things.\r\n *\r\n * @example\r\n * import * from EscapeHandler from \"./tfw/escape-handler\"\r\n * EscapeHandler.add(() => myDialog.close());\r\n * EscapeHandler.fire();\r\n */\r\n\r\nexport default {add, fire};\r\n\r\ntype THandler = ()=>void;\r\n\r\nlet handlers:THandler[] = [];\r\nlet initialized = false;\r\n\r\nexport function add(listener: THandler) {\r\n    if( !initialized) {\r\n        initialized = true;\r\n        addKeyboardListener();\r\n    }\r\n\r\n    handlers.push(listener);\r\n}\r\n\r\nexport function fire() {\r\n    if( handlers.length === 0 ) return;\r\n    const handler = handlers.pop();\r\n    handler();\r\n}\r\n\r\nfunction addKeyboardListener() {\r\n    document.addEventListener(\"keydown\", evt => {\r\n        if( evt.key !== 'Escape') return;\r\n        fire();\r\n    }, true);\r\n}\r\n","const CAPACITY = 3;\r\n\r\n/**\r\n * Helper to manage a pointer move.\r\n * It gives you the location, the speed and the acceleration of your pointer.\r\n *\r\n * @type {[type]}\r\n */\r\nexport default class Moves {\r\n    private _x0: number;\r\n    private _y0: number;\r\n    private _time0: number;\r\n    private _x: number[] = new Array(CAPACITY);\r\n    private _y: number[] = new Array(CAPACITY);\r\n    private _time: number[] = new Array(CAPACITY);\r\n    private _cursor: number = 0;\r\n\r\n    constructor(x: number = 0, y: number = 0) {\r\n        this.init(x, y);\r\n    }\r\n\r\n    init(x: number, y: number) {\r\n        this._time0 = this.now;\r\n        this._x0 = x;\r\n        this._y0 = y;\r\n        this._x = this._x.fill(this._x0, 0, CAPACITY);\r\n        this._y = this._y.fill(this._y0, 0, CAPACITY);\r\n        this._time = this._time.fill(this._time0, 0, CAPACITY);\r\n    }\r\n\r\n    _index(shift: number) {\r\n        return (this._cursor + shift) % CAPACITY;\r\n    }\r\n\r\n    get now() { return Date.now(); }\r\n\r\n    add(x: number, y: number) {\r\n        const idx = (this._cursor + CAPACITY - 1) % CAPACITY;\r\n        this._time[idx] = this.now;\r\n        this._x[idx] = x;\r\n        this._y[idx] = y;\r\n        this._cursor = idx;\r\n    }\r\n\r\n    get elapsedTime() { return this.now - this._time0; }\r\n\r\n    get x() { return this._x[this._cursor]; }\r\n    get y() { return this._y[this._cursor]; }\r\n\r\n    get startX() { return this._x0; }\r\n    get startY() { return this._y0; }\r\n\r\n    get speedX() {\r\n        const idx0 = this._cursor;\r\n        const idx1 = this._index(1);\r\n        const time = this._time[idx0] - this._time[idx1];\r\n        if (time <= 0) return 0;\r\n        return (this._x[idx0] - this._x[idx1]) / time;\r\n    }\r\n\r\n    get speedY() {\r\n        const idx0 = this._cursor;\r\n        const idx1 = this._index(1);\r\n        const time = this._time[idx0] - this._time[idx1];\r\n        if (time <= 0) return 0;\r\n        return (this._y[idx0] - this._y[idx1]) / time;\r\n    }\r\n\r\n    get accelX() {\r\n        const idx0 = this._index(0);\r\n        const time0 = this._time[idx0];\r\n\r\n        const idx1 = this._index(1);\r\n        const time1 = this._time[idx1];\r\n\r\n        const time01 = time0 - time1;\r\n\r\n        if (time01 <= 0) return 0;\r\n\r\n        const idx2 = this._index(2);\r\n        const time2 = this._time[idx2];\r\n\r\n        const time12 = time1 - time2;\r\n\r\n        if (time12 <= 0) return 0;\r\n\r\n        const x0 = this._x[idx0];\r\n        const x1 = this._x[idx1];\r\n        const x2 = this._x[idx2];\r\n\r\n        const speed01 = (x0 - x1) / time01;\r\n        const speed12 = (x1 - x2) / time12;\r\n\r\n        return (speed01 - speed12) / time01;\r\n    }\r\n\r\n    get accelY() {\r\n        const idx0 = this._index(0);\r\n        const time0 = this._time[idx0];\r\n\r\n        const idx1 = this._index(1);\r\n        const time1 = this._time[idx1];\r\n\r\n        const time01 = time0 - time1;\r\n\r\n        if (time01 <= 0) return 0;\r\n\r\n        const idx2 = this._index(2);\r\n        const time2 = this._time[idx2];\r\n\r\n        const time12 = time1 - time2;\r\n\r\n        if (time12 <= 0) return 0;\r\n\r\n        const y0 = this._y[idx0];\r\n        const y1 = this._y[idx1];\r\n        const y2 = this._y[idx2];\r\n\r\n        const speed01 = (y0 - y1) / time01;\r\n        const speed12 = (y1 - y2) / time12;\r\n\r\n        return (speed01 - speed12) / time01;\r\n    }\r\n}\r\n","type TIdentifier = number | null;\r\n\r\nexport default class Finger {\r\n    private fingers: TIdentifier[] = [];\r\n\r\n    getIndex(identifier: number): number {\r\n        const index = this.fingers.indexOf(identifier);\r\n        if (index !== -1) return index;\r\n        const indexOfFirstNull = this.fingers.indexOf(null);\r\n        if (indexOfFirstNull !== -1) {\r\n            this.fingers[indexOfFirstNull] = identifier;\r\n            return indexOfFirstNull;\r\n        }\r\n        this.fingers.push(identifier);\r\n        return this.fingers.length - 1;\r\n    }\r\n\r\n    remove(identifier: number) {\r\n        const index = this.fingers.indexOf(identifier);\r\n        if (index !== -1) this.fingers[index] = null;\r\n    }\r\n}\r\n","/**\r\n * BasicHandler(\r\n *     element: HTMLElement,\r\n *     handleDown: TBasicHandler,\r\n *     handleUp: TBasicHandler,\r\n *     handleMove: TBasicHandler\r\n * )\r\n *\r\n * Deals with three basic events : DOWN, UP and MOVE.\r\n * If the device has several input pointers, we will return\r\n * only one event.\r\n *\r\n * A TBasicHandler is a synthetic event object:\r\n *   - x: X coordinate relative to the viewport, not including any scroll offset.\r\n *   - y: Y coordinate relative to the viewport, not including any scroll offset.\r\n *   - index: For multi-touch system. The first one is 0, the second is 1, etc.\r\n *   - buttons: 1 = left, 2 = right.\r\n *   - pointer: \"mouse\" | \"touch\" | \"pen\".\r\n *   - clear(): Call stopPropagation() and preventDefault() on this event.\r\n *\r\n */\r\nimport Finger from \"./finger\"\r\nimport {IBasicEvent} from \"./basic-handler.types\"\r\n\r\ninterface ITouch {\r\n    identifier: number;\r\n    clientX: number;\r\n    clientY: number;\r\n}\r\n\r\ninterface ITouchEvent {\r\n    changedTouches: ITouch[];\r\n}\r\ntype TTouchEventHandler = (evt:ITouchEvent) => void;\r\n\r\ninterface IMouseEvent {\r\n    clientX: number;\r\n    clientY: number;\r\n    buttons: number;\r\n}\r\ntype TMouseEventHandler = (evt:IMouseEvent) => void;\r\n\r\ntype TDeviceEventHandler = TTouchEventHandler|TMouseEventHandler;\r\n\r\ntype TBasicHandler = (evt: IBasicEvent) => void | undefined;\r\n\r\ntype TBasicEventName = \"mousedown\";\r\n\r\ninterface IDeviceHandlers {\r\n    touchstart?: TTouchEventHandler;\r\n    touchend?: TTouchEventHandler;\r\n    touchmove?: TTouchEventHandler;\r\n    mousedown?: TMouseEventHandler;\r\n    mouseup?: TMouseEventHandler;\r\n    mousemove?: TMouseEventHandler;\r\n}\r\n\r\nexport default class BasicHandler {\r\n    readonly element: HTMLElement;\r\n    pointerType: string = \"\";\r\n    pointerTypeTime: number = 0;\r\n    deviceHandlers: IDeviceHandlers = {};\r\n    fingers: Finger = new Finger();\r\n\r\n    constructor(element: HTMLElement,\r\n        handleDown: TBasicHandler,\r\n        handleUp: TBasicHandler,\r\n        handleMove: TBasicHandler) {\r\n        this.element = element;\r\n        attachDownEvent.call(this, handleDown);\r\n        attachUpEvent.call( this, handleUp );\r\n        attachMoveEvent.call( this, handleMove );\r\n    }\r\n\r\n    /**\r\n     * If you device can hold mouse and touch events, you will receive two events.\r\n     * This function prevent it.\r\n     *\r\n     * @param   {string} pointerType\r\n     * @returns {boolean} If `false`, we must ignore this event.\r\n     */\r\n    checkPointerType(pointerType: string) {\r\n        const now = Date.now();\r\n        const delay = now - this.pointerTypeTime;\r\n        this.pointerTypeTime = now;\r\n        if (this.pointerType.length === 0 || delay > 500) {\r\n            // If the user wat more than 500ms, he can change of pointer.\r\n            this.pointerType = pointerType;\r\n            return true;\r\n        }\r\n        return this.pointerType === pointerType;\r\n    }\r\n\r\n    detachEvents() {\r\n        const element = this.element;\r\n        const handlers = this.deviceHandlers;\r\n        const eventNames = Object.keys(handlers);\r\n        for (const eventName of eventNames) {\r\n            const handler: TDeviceEventHandler|undefined = handlers[eventName as TBasicEventName];\r\n            element.removeEventListener(eventName, handler, false);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction attachDownEvent(this: BasicHandler, handleDown: TBasicHandler) {\r\n    attachDownEventTouch.call(this, handleDown);\r\n    attachDownEventMouse.call(this, handleDown);\r\n}\r\n\r\n\r\nfunction attachDownEventTouch(this: BasicHandler, handleDown: TBasicHandler) {\r\n    const { element, deviceHandlers } = this;\r\n    const handler = (evt: ITouchEvent) => {\r\n        if (!this.checkPointerType(\"touch\")) return;\r\n        for (const touch of evt.changedTouches) {\r\n            handleDown({\r\n                x: touch.clientX,\r\n                y: touch.clientY,\r\n                index: this.fingers.getIndex(touch.identifier),\r\n                buttons: 1,\r\n                pointer: \"touch\",\r\n                clear: createClear(evt)\r\n            });\r\n        }\r\n    };\r\n    deviceHandlers.touchstart = handler;\r\n    element.addEventListener(\"touchstart\", handler, false);\r\n}\r\n\r\n\r\nfunction attachDownEventMouse(this: BasicHandler, handleDown: TBasicHandler) {\r\n    const { element, deviceHandlers } = this;\r\n    const handler = (evt: IMouseEvent) => {\r\n        if (!this.checkPointerType(\"mouse\")) return;\r\n        handleDown({\r\n            x: evt.clientX,\r\n            y: evt.clientY,\r\n            index: 0,\r\n            buttons: evt.buttons,\r\n            pointer: \"mouse\",\r\n            clear: createClear(evt)\r\n        });\r\n    };\r\n    deviceHandlers.mousedown = handler;\r\n    element.addEventListener(\"mousedown\", handler, false);\r\n}\r\n\r\n\r\nfunction attachUpEvent(this: BasicHandler, handleUp: TBasicHandler) {\r\n    attachUpEventTouch.call(this, handleUp);\r\n    attachUpEventMouse.call(this, handleUp);\r\n}\r\n\r\n\r\nfunction attachUpEventTouch(this: BasicHandler, handleUp: TBasicHandler) {\r\n    const { element, deviceHandlers } = this;\r\n    const handler = (evt: ITouchEvent) => {\r\n        if (!this.checkPointerType(\"touch\")) return;\r\n        for (const touch of evt.changedTouches) {\r\n            handleUp({\r\n                x: touch.clientX,\r\n                y: touch.clientY,\r\n                index: this.fingers.getIndex(touch.identifier),\r\n                buttons: 1,\r\n                pointer: \"touch\",\r\n                clear: createClear(evt)\r\n            });\r\n            this.fingers.remove(touch.identifier)\r\n        }\r\n    };\r\n    deviceHandlers.touchend = handler;\r\n    element.addEventListener(\"touchend\", handler, false);\r\n}\r\n\r\n\r\nfunction attachUpEventMouse(this: BasicHandler, handleUp: TBasicHandler) {\r\n    const { element, deviceHandlers } = this;\r\n    const handler = (evt: IMouseEvent) => {\r\n        if (!this.checkPointerType(\"mouse\")) return;\r\n        handleUp({\r\n            x: evt.clientX,\r\n            y: evt.clientY,\r\n            index: 0,\r\n            buttons: evt.buttons,\r\n            pointer: \"mouse\",\r\n            clear: createClear(evt)\r\n        });\r\n    };\r\n    deviceHandlers.mouseup = handler;\r\n    element.addEventListener(\"mouseup\", handler, false);\r\n}\r\n\r\n\r\n\r\n\r\nfunction attachMoveEvent(this: BasicHandler, handleMove: TBasicHandler) {\r\n    attachMoveEventTouch.call(this, handleMove);\r\n    attachMoveEventMouse.call(this, handleMove);\r\n}\r\n\r\n\r\nfunction attachMoveEventTouch(this: BasicHandler, handleMove: TBasicHandler) {\r\n    const { element, deviceHandlers } = this;\r\n    const handler = (evt: ITouchEvent) => {\r\n        if (!this.checkPointerType(\"touch\")) return;\r\n        for (const touch of evt.changedTouches) {\r\n            handleMove({\r\n                x: touch.clientX,\r\n                y: touch.clientY,\r\n                index: this.fingers.getIndex(touch.identifier),\r\n                buttons: 1,\r\n                pointer: \"touch\",\r\n                clear: createClear(evt)\r\n            });\r\n            this.fingers.remove(touch.identifier)\r\n        }\r\n    };\r\n    deviceHandlers.touchmove = handler;\r\n    element.addEventListener(\"touchmove\", handler, false);\r\n}\r\n\r\n\r\nfunction attachMoveEventMouse(this: BasicHandler, handleMove: TBasicHandler) {\r\n    const { element, deviceHandlers } = this;\r\n    const handler = (evt: IMouseEvent) => {\r\n        if (!this.checkPointerType(\"mouse\")) return;\r\n        handleMove({\r\n            x: evt.clientX,\r\n            y: evt.clientY,\r\n            index: 0,\r\n            buttons: evt.buttons,\r\n            pointer: \"mouse\",\r\n            clear: createClear(evt)\r\n        });\r\n    };\r\n    deviceHandlers.mousemove = handler;\r\n    element.addEventListener(\"mousemove\", handler, false);\r\n}\r\n\r\n\r\nfunction createClear(evt) {\r\n    return () => {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n    }\r\n}\r\n","/**\n * Here is the list of all parameters used if all the handlers.\n *\n * tap({ x: number, y: number, index: number })\n *\n */\n\nimport Moves from \"./gesture/moves\"\nimport BasicHandler from \"./gesture/basic-handler\"\nimport { IBasicEvent } from \"./gesture/basic-handler.types\"\n\nconst SYMBOL = Symbol(\"gesture\");\n\nlet ID = 0;\n\ntype TGestureName = \"tap\" | \"down\" | \"up\"\n    | \"pan\" | \"pandown\" | \"panup\" | \"panvertical\"\n    | \"swipe\" | \"swipedown\" | \"swipeup\" | \"swipevertical\"\n    | \"swipeleft\";\ntype TEventName = \"keydown\" | \"keyup\";\n\ntype THandlers = {\n    tap?: (event: IEvent) => void;\n    down?: (event: IEvent) => void;\n    up?: (event: IEvent) => void;\n    pan?: (event: IEvent) => void;\n    pandown?: (event: IEvent) => void;\n    panup?: (event: IEvent) => void;\n    panvertical?: (event: IEvent) => void;\n    swipe?: (event: IEvent) => void;\n    swipedown?: (event: IEvent) => void;\n    swipeup?: (event: IEvent) => void;\n    swipevertical?: (event: IEvent) => void;\n    swipeleft?: (event: IEvent) => void;\n    keydown?: (event: IEvent) => void;\n    keyup?: (event: IEvent) => void;\n};\n\ninterface IEvent {\n    preventDefault: () => void;\n    stopPropagation: () => void;\n    target: HTMLElement;\n    x?: number;\n    y?: number;\n}\n\ninterface IInternalEvent {\n    x?: number;\n    y?: number;\n    event: PointerEvent;\n}\n\ninterface IPointer {\n    isDown: boolean;\n    moves: Moves;\n    rect: {\n        left: number;\n        top: number;\n        width: number;\n        height: number;\n    };\n    type: string | null;\n    time: number;\n    id: number;\n}\n\nconst STANDARD_EVENTS = [\"keydown\", \"keyup\"];\n\nclass Gesture {\n    private readonly basicHandler: BasicHandler;\n    private handlers: THandlers;\n    private element: HTMLElement;\n    private readonly pointers: IPointer[];\n    private readonly id: number;\n\n    constructor(private elem: HTMLElement) {\n        elem[SYMBOL] = this;\n        this.id = ID++;\n        this.element = elem;\n        this.handlers = {};\n        this.basicHandler = new BasicHandler(\n            elem,\n            this.handleDown.bind(this),\n            this.handleUp.bind(this),\n            this.handleMove.bind(this)\n        )\n        this.pointers = new Array(3);\n    }\n\n    get identifier() { return this.id; }\n\n    on(handlers: THandlers) {\n        this.handlers = Object.assign(this.handlers, handlers);\n        Object.keys(this.handlers).forEach(eventName => {\n            if (STANDARD_EVENTS.indexOf(eventName) === -1) return;\n            // This is a non-pointer event. (i.e., keyboard, resize, ...)\n            this.element.addEventListener(eventName, this.handlers[eventName], false);\n        });\n    }\n\n    /**\n     * Check if a gesture has an handler attached.\n     *\n     * @param   {TGestureName[]}  gestureNames - Name of the gesture.\n     * @returns {boolean} true if the gesture is mapped to a handler.\n     */\n    hasHandlerFor(...gestureNames: TGestureName[]): boolean {\n        for (const gestureName of gestureNames) {\n            if (typeof this.handlers[gestureName] === 'function') return true;\n        }\n        return false;\n    }\n\n    private getPointer(index: number) {\n        const pointers = this.pointers;\n        if (typeof pointers[index] === 'undefined') {\n            pointers[index] = {\n                isDown: false,\n                moves: new Moves(0, 0),\n                rect: { left: 0, top: 0, width: 0, height: 0 }\n            }\n        }\n        return pointers[index];\n    }\n\n    private handleDown(event: IBasicEvent) {\n        // We want not deal with more than 3 simultaneous touches.\n        if (event.index > 2) return;\n\n        const { element } = this;\n        const ptr = this.getPointer(event.index);\n        ptr.isDown = true;\n        ptr.rect = element.getBoundingClientRect();\n        const x = event.x - ptr.rect.left;\n        const y = event.y - ptr.rect.top;\n        ptr.moves.init(x, y);\n\n        if (this.hasHandlerFor(\"down\")) {\n            this.handlers.down(Object.assign(event, { x, y }));\n        }\n    }\n\n    private handleUp(event: IBasicEvent) {\n        // We want not deal with more than 3 simultaneous touches.\n        if (event.index > 2) return;\n\n        const ptr = this.getPointer(event.index);\n        ptr.isDown = false;\n        const x = event.x - ptr.rect.left;\n        const y = event.y - ptr.rect.top;\n        ptr.moves.add(x, y);\n\n        if (this.hasHandlerFor(\"up\")) {\n            this.handlers.up(Object.assign(event, { x, y }));\n        }\n        this.recognizeTap(event, ptr);\n        this.recognizeSwipe(event, ptr);\n    }\n\n    private handleMove(event: IBasicEvent) {\n        // We want not deal with more than 3 simultaneous touches.\n        if (event.index > 2) return;\n\n        const ptr = this.getPointer(event.index);\n        const x = event.x - ptr.rect.left;\n        const y = event.y - ptr.rect.top;\n        ptr.moves.add(x, y);\n        this.recognizePan(event, ptr);\n    }\n\n    private recognizeTap(evt: IBasicEvent, ptr: IPointer) {\n        // A tap is recognized only if there is less than 400ms\n        // between down and up, and if the pointer has not moves more\n        // than 16px.\n        if (!this.hasHandlerFor(\"tap\") || ptr.moves.elapsedTime > 400) return;\n        const moves = ptr.moves;\n        const dx = Math.abs(moves.x - moves.startX);\n        if (dx > 16) return;\n        const dy = Math.abs(moves.y - moves.startY);\n        if (dy > 16) return;\n\n        evt.clear();\n        this.handlers.tap(Object.assign(evt, { x: moves.x, y: moves.y }));\n    }\n\n    private recognizePan(evt: IBasicEvent, ptr: IPointer) {\n        if (!ptr.isDown) return;\n        this.recognizePanDown(evt, ptr);\n        this.recognizePanUp(evt, ptr);\n        if (this.hasHandlerFor(\"pan\")) {\n            const { x, y, startX, startY } = ptr.moves;\n            this.handlers.pan(Object.assign(evt, { x, y, startX, startY }));\n        }\n    }\n\n    private recognizePanDown(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"pandown\", \"panvertical\")) return;\n\n        // Check that we are panning down.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.y - moves.startY;\n        if (dy < dx) return;\n\n        if (this.hasHandlerFor(\"pandown\")) {\n            this.handlers.pandown(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"panvertical\")) {\n            this.handlers.panvertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizePanUp(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"panup\", \"panvertical\")) return;\n\n        // Check that we are panning up.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = -moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.startY - moves.y;\n        if (dy < dx) return;\n\n        if (this.hasHandlerFor(\"panup\")) {\n            this.handlers.panup(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"panvertical\")) {\n            this.handlers.panvertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizeSwipe(evt: IBasicEvent, ptr: IPointer) {\n        this.recognizeSwipeDown(evt, ptr);\n        this.recognizeSwipeUp(evt, ptr);\n        this.recognizeSwipeLeft(evt, ptr);\n        if (this.hasHandlerFor(\"swipe\")) {\n            const { x, y, startX, startY } = ptr.moves;\n            this.handlers.swipe(Object.assign(evt, { x, y, startX, startY }));\n        }\n    }\n\n    private recognizeSwipeDown(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"swipedown\", \"swipevertical\")) return;\n\n        // Check that we are panning down.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.y - moves.startY;\n        if (dy < dx) return;\n        // Minimal speed for swipe: 100 pixels/second.\n        const speed = dy / moves.elapsedTime;\n        if (speed < 0.1) return;\n        if (this.hasHandlerFor(\"swipedown\")) {\n            this.handlers.swipedown(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"swipevertical\")) {\n            this.handlers.swipevertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizeSwipeUp(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"swipeup\", \"swipevertical\")) return;\n\n        // Check that we are panning up.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.y - moves.startY;\n        if (dy < dx) return;\n        // Minimal speed for swipe: 100 pixels/second.\n        const speed = dy / moves.elapsedTime;\n        if (speed < 0.1) return;\n        if (this.hasHandlerFor(\"swipeup\")) {\n            this.handlers.swipeup(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"swipevertical\")) {\n            this.handlers.swipevertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizeSwipeLeft(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"swipeleft\", \"swipehorizontal\")) return;\n\n        // Check that we are panning left.\n        const moves = ptr.moves;\n        const sx = -moves.speedX;\n        const sy = Math.abs(moves.speedY);\n        if (sx < sy) return;\n        // Check that the final point is beneath the initial one.\n        const dx = moves.startX - moves.x;\n        const dy = Math.abs(moves.y - moves.startY);\n        if (dx < dy) return;\n        // Minimal speed for swipe: 100 pixels/second.\n        const speed = dx / moves.elapsedTime;\n        if (speed < 0.1) return;\n        if (this.hasHandlerFor(\"swipeleft\")) {\n            this.handlers.swipeleft(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"swipehorizontal\")) {\n            this.handlers.swipehorizontal(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n}\n\nexport default function(elem: HTMLElement): Gesture {\n    if (!elem[SYMBOL]) {\n        elem[SYMBOL] = new Gesture(elem);\n    }\n    return elem[SYMBOL];\n}\n","const EMPTY_FUNCTION = () => { };\r\n\r\ntype TFunction = () => void;\r\n\r\n\r\nexport default function castBoolean(value: any, defaultValue: TFunction = EMPTY_FUNCTION): TFunction {\r\n    if (typeof value === 'function') return value;\r\n    return defaultValue;\r\n}\r\n","import Gesture from \"../gesture\"\nimport Theme from \"../theme\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\nimport castFunction from \"../converter/function\"\nimport \"./touchable.css\"\n\ninterface IArgs {\n    element?: HTMLElement;\n    enabled?: boolean;\n    color?: string;\n    onTap?: () => void;\n}\n\ninterface IRect {\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n}\n\nexport default class Touchable {\n    _element: HTMLElement | undefined;\n    _enabled: boolean = true;\n    color: string = \"#000\";\n    accent: boolean = false;\n    onTap: () => void;\n\n    constructor(args: IArgs) {\n        this.element = args.element;\n        this.enabled = castBoolean(args.enabled, true);\n        this.color = castString(args.color, \"\");\n        this.onTap = castFunction(args.onTap);\n    }\n\n    fire(evt) {\n        if (!this.enabled) return;\n\n        const handler = this.onTap;\n        if (typeof handler === 'function') {\n            handler(evt);\n        }\n    }\n\n    get enabled() { return this._enabled; }\n    set enabled(value: boolean) { this._enabled = value; }\n\n    get element() { return this._element; }\n    set element(element: HTMLElement | undefined) {\n        const that = this;\n        if (typeof element === 'undefined') return;\n        Gesture(element).on({\n            keydown(evt) {\n                if (!that.enabled) return;\n\n                const key = evt.key;\n                if (key === \" \" || key === \"Enter\") {\n                    evt.preventDefault();\n                    evt.stopPropagation();\n                    that.fire();\n                }\n            },\n\n            down(evt) {\n                if (!that.enabled) return;\n            },\n\n            up(evt) {\n                if (!that.removeTouchDisk) return;\n                that.removeTouchDisk();\n                delete that.removeTouchDisk;\n            },\n\n            tap(evt) {\n                if (!that.enabled) return;\n                that.fire(evt);\n\n                const rect = element.getBoundingClientRect();\n                const style = window.getComputedStyle(element);\n                const screen = createScreen(rect);\n                screen.style.borderRadius = style.getPropertyValue(\"border-radius\");\n                const x = evt.x || 0;\n                const y = evt.y || 0;\n                const w = Math.max(x, rect.width - x);\n                const h = Math.max(y, rect.height - y);\n                const radius = Math.ceil(1.1 * Math.sqrt(w * w + h * h));\n                const ripple = document.createElement(\"div\");\n                screen.appendChild(ripple);\n                ripple.style.left = `${x - radius}px`;\n                ripple.style.top = `${y - radius}px`;\n                ripple.style.width = `${2 * radius}px`;\n                ripple.style.height = `${2 * radius}px`;\n                if (that.color.length > 0) {\n                    ripple.style.background = that.color;\n                } else {\n                    ripple.style.background = Theme.isDark() ? \"#fff\" : \"#000\";\n                }\n                window.setTimeout(() => ripple.className = \"open\");\n                window.setTimeout(() => document.body.removeChild(screen), 500);\n            }\n        })\n    }\n}\n\n\nfunction createScreen(rect: IRect) {\n    const div = document.createElement(\"div\");\n    div.className = \"tfw-behavior-touchable\";\n    div.style.left = `${rect.left}px`;\n    div.style.top = `${rect.top}px`;\n    div.style.width = `${rect.width}px`;\n    div.style.height = `${rect.height}px`;\n    document.body.appendChild(div);\n    return div;\n}\n","import { IIntlText, IIntlOrString } from \"./types\"\r\n\r\ninterface ITranslations {\r\n    [language: string]: { [key: string]: string }\r\n}\r\n\r\nlet gCurrentLanguage: string =\r\n    localStorage.getItem(\"CurrentLanguage\") || navigator.language.split(\"-\")[0];\r\n\r\nexport default class Intl {\r\n    constructor(private translations: ITranslations) { }\r\n\r\n    static make(translations: ITranslations) {\r\n        const instance = new Intl(translations);\r\n        return instance.translate.bind(instance);\r\n    }\r\n\r\n    static toIntl(text: IIntlOrString, lang: string | null = null): IIntlText {\r\n        if (!text) return { [lang || Intl.lang]: \"\" };\r\n        if (typeof text !== 'string') return text;\r\n        return { [lang || Intl.lang]: text };\r\n    }\r\n\r\n    static toText(intl: IIntlOrString | undefined, lang?: string | undefined): string {\r\n        if (!intl) return \"\";\r\n        if (typeof intl === 'string') return intl;\r\n        if (typeof lang === 'undefined') lang = Intl.lang;\r\n        const text = intl[lang];\r\n        if (typeof text === 'string') return text;\r\n        const defaultText = intl[Object.keys(intl)[0]];\r\n        if (typeof defaultText === 'string') return defaultText;\r\n        return \"\";\r\n    }\r\n\r\n    static addTextToIntl(lang: string, text: string, intl: IIntlOrString): IIntlText {\r\n        intl = Intl.toIntl(intl, lang);\r\n        intl[lang] = text;\r\n        const result: IIntlText = {};\r\n        for (const key of Object.keys(intl)) {\r\n            const val = intl[key];\r\n            if (val.trim().length === 0) continue;\r\n            result[key] = val;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static get lang() { return gCurrentLanguage; }\r\n\r\n    static set lang(_value: string) {\r\n        if (typeof _value !== 'string') return;\r\n        const value = _value.split(\"-\")[0];\r\n        gCurrentLanguage = value;\r\n        localStorage.setItem(\"CurrentLanguage\", value);\r\n    }\r\n\r\n    translate(item: string, ...params: string[]) {\r\n        try {\r\n            if (this.translations[gCurrentLanguage]) {\r\n                const translation = this.translations[gCurrentLanguage][item];\r\n                if (translation) return addParams(translation, params);\r\n            }\r\n\r\n            // If we don't find a translation in the current language,\r\n            // we look in the other languages.\r\n            const languages = Object.keys(this.translations);\r\n            for (const lang of languages) {\r\n                const vocabulary = this.translations[lang];\r\n                const translation = vocabulary[item];\r\n                if (typeof translation !== 'string') continue;\r\n                return addParams(translation, params);\r\n            }\r\n\r\n            console.error(`Missing translation for item \"${item}\"!`, params);\r\n            return \"\";\r\n        }\r\n        catch (ex) {\r\n            throw Error(`Error while looking for a translation of \"${item}\":\\n${ex}`);\r\n        }\r\n    }\r\n}\r\n\r\n// Used for the states automate in order to parse a translation\r\n// with placeholders.\r\nenum Mode { Text, Escape, Placeholder }\r\n\r\n/**\r\n * In a translation, you can find placeholders for potential params.\r\n * They are marked with a dollar and a digit from 1 to 9.\r\n * For instance: \"Welcome mister $1!\".\r\n *\r\n * Order doesn't matter and you can have several occurences of the same\r\n * placeholder.\r\n * For instance: \"Hello $2! Welcome into $1. $1 is the best...\".\r\n *\r\n * @param   {string} translation - A string which can own placeholders.\r\n * @param   {string[]} params - Array of replacements for placeholders.\r\n * @returns The transformed string.\r\n */\r\nfunction addParams(translation: string, params: string[]): string {\r\n    let output = '';\r\n    let mark = 0;\r\n    let mode: Mode = Mode.Text;\r\n    let paramIndex = -1;\r\n    let paramValue = '';\r\n\r\n    for (let index = 0; index < translation.length; index++) {\r\n        const c = translation.charAt(index);\r\n        switch (mode) {\r\n            case Mode.Text:\r\n                if (c === '\\\\') {\r\n                    mode = Mode.Escape;\r\n                    output += translation.substr(mark, index - mark);\r\n                    mark = index + 1;\r\n                }\r\n                else if (c === '$') {\r\n                    mode = Mode.Placeholder;\r\n                    output += translation.substr(mark, index - mark);\r\n                    mark = index + 2;\r\n                }\r\n                break;\r\n            case Mode.Escape:\r\n                mode = Mode.Text;\r\n                break;\r\n            case Mode.Placeholder:\r\n                mode = Mode.Text;\r\n                paramIndex = parseInt(c, 10);\r\n                if (isNaN(paramIndex))\r\n                    throw Error(`Parsing error at position ${index} for translation \"${translation}\"!\r\nEscape \"$\" if you don't want to use a placeholder.`);\r\n                paramValue = params[paramIndex - 1] || \"\";\r\n                output += paramValue;\r\n                break;\r\n            default:\r\n                mode = Mode.Text;\r\n        }\r\n    }\r\n\r\n    return output + translation.substr(mark);\r\n}\r\n","import * as React from \"react\"\r\nimport Icon from \"../icon\"\r\nimport \"./button.css\"\r\nimport Touchable from \"../../behavior/touchable\"\r\nimport castArray from \"../../converter/array\"\r\nimport castString from \"../../converter/string\"\r\nimport castBoolean from \"../../converter/boolean\"\r\n\r\ninterface IButtonProps {\r\n    label?: string;\r\n    icon?: string;\r\n    wide?: boolean;\r\n    wait?: boolean;\r\n    flat?: boolean;\r\n    small?: boolean;\r\n    warning?: boolean;\r\n    enabled?: boolean;\r\n    classes?: string[] | string;\r\n    tag?: any;\r\n    onClick?: (tag: any) => void;\r\n}\r\n\r\nexport default class Button extends React.Component<IButtonProps, {}> {\r\n    readonly touchable: Touchable;\r\n    readonly ref: React.RefObject<HTMLButtonElement>;\r\n\r\n    constructor(props: IButtonProps) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.touchable = new Touchable({ onTap: this.handleClick });\r\n        this.ref = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const element = this.ref.current;\r\n        if (!element) return;\r\n        this.touchable.element = element;\r\n    }\r\n\r\n    handleClick() {\r\n        const slot = this.props.onClick;\r\n        if (typeof slot !== 'function') return;\r\n        slot(this.props.tag);\r\n    }\r\n\r\n    render() {\r\n        const p = this.props,\r\n            label = castString(p.label, \"\"),\r\n            icon = castString(p.icon, \"\"),\r\n            wide = castBoolean(p.wide, false),\r\n            wait = castBoolean(p.wait, false),\r\n            flat = castBoolean(p.flat, false),\r\n            small = castBoolean(p.small, false),\r\n            enabled = !wait && castBoolean(p.enabled, true),\r\n            warning = castBoolean(p.warning, false),\r\n            classes = [\"tfw-view-button\"].concat(castArray(p.classes));\r\n        if (wide) classes.push(\"wide\");\r\n        if (flat) {\r\n            classes.push(\"flat\");\r\n            classes.push(warning ? \"thm-fgS\" : \"thm-fgP\");\r\n        }\r\n        else {\r\n            if (enabled) classes.push(\"thm-ele-button\");\r\n            classes.push(warning ? \"thm-bgS\" : \"thm-bgP\");\r\n        }\r\n        if (small) classes.push(\"small\");\r\n        if (label.length === 0) classes.push(\"floating\");\r\n\r\n        this.touchable.enabled = enabled;\r\n        return (\r\n            <button ref={this.ref}\r\n                className={classes.join(\" \")}\r\n                disabled={!enabled}>\r\n                {icon.length > 0\r\n                    ? <Icon content={icon}\r\n                        animate={wait}\r\n                        size={`${small ? 1.375 : 1.875}rem`} />\r\n                    : null}\r\n                {label.length > 0\r\n                    ? <div className=\"text\" > {label} </div>\r\n                    : null}\r\n            </button>);\r\n    }\r\n}\r\n","export default function castArray(v: any, defaultValue: any[] = []): any[] {\r\n    if (typeof v === 'undefined') return defaultValue;\r\n    if (Array.isArray(v)) return v;\r\n    return [v];\r\n}\r\n","export default {\r\n    /**\r\n     * @param {string|React.ReactElement<any>} message\r\n     * @param {()=>void|null} onClose\r\n     */\r\n    alert,\r\n    /**\r\n     * @param {string} caption - Title and button caption.\r\n     * @param {any} content - Content to display.\r\n     * @return Promise<boolean> Confirmed or not?\r\n     */\r\n    confirm,\r\n    show,\r\n    wait\r\n};\r\n\r\nimport * as React from \"react\"\r\nimport ReactDOM from 'react-dom'\r\nimport Icon from \"../view/icon\"\r\nimport Flex from \"../layout/flex\"\r\nimport EscapeHandler from \"../escape-handler\"\r\nimport castString from \"../converter/string\"\r\nimport castBoolean from \"../converter/boolean\"\r\nimport \"./dialog.css\"\r\n\r\nimport Button from \"../view/button\"\r\n\r\nimport Intl from \"../intl\";\r\nconst _ = Intl.make(require(\"./dialog.yaml\"));\r\n\r\ninterface IOptions {\r\n    onClose?: () => void;\r\n    closeOnEscape?: boolean;\r\n    icon?: string;\r\n    title?: string;\r\n    content?: string | React.ReactElement<any>;\r\n    footer?: React.ReactElement<any>[] | React.ReactElement<any> | null;\r\n    maxWidth?: number;\r\n}\r\n\r\nclass Dialog {\r\n    _screen: HTMLElement;\r\n    _options: IOptions;\r\n    footer: React.ReactElement<any>[] | React.ReactElement<any> | null = null;\r\n\r\n    constructor(options: IOptions = {}) {\r\n        this._options = Object.assign({\r\n            closeOnEscape: true,\r\n            footer: <Button\r\n                icon=\"close\"\r\n                label = { _('close') }\r\n                flat={ true}\r\n                onClick={() => this.hide()}/>\r\n        }, options);\r\n        this._options.closeOnEscape = castBoolean(this._options.closeOnEscape, true);\r\n        this.footer = this._options.footer;\r\n        const screen = document.createElement(\"div\");\r\n        screen.className = \"tfw-factory-dialog\";\r\n        document.body.appendChild(screen);\r\n        this._screen = screen;\r\n        this.hide = this.hide.bind(this);\r\n        if (this._options.closeOnEscape) {\r\n            EscapeHandler.add(() => this._hide());\r\n        }\r\n    }\r\n\r\n    set onClose(slot: () => void) {\r\n        this._options.onClose = slot;\r\n    }\r\n\r\n    show() {\r\n        const opt = this._options;\r\n        const title = castString(opt.title, \"\").trim();\r\n        const icon = castString(opt.icon, \"\").trim();\r\n        let footer: React.ReactElement<any> | null =\r\n            this.footer ? (<footer className= \"thm-bg2 thm-ele-button\">{\r\n                this.footer\r\n            }</footer>) : null;\r\n            let header = null;\r\n        if (title.length > 0) {\r\n            header = (\r\n                <header className= \"thm-bgPD\">\r\n                    { icon.length > 0 ? <Icon content={ icon } /> : null}\r\n                    <div>{title}</div>\r\n                </header>\r\n            )\r\n        }\r\n\r\n        ReactDOM.render((\r\n            <div\r\n                className=\"thm-ele-dialog thm-bg1\"\r\n                style={{\r\n                    maxWidth: typeof opt.maxWidth === 'number' ? `${opt.maxWidth}px` : \"auto\"\r\n                }}>\r\n                {header}\r\n                <div>{opt.content}</div>\r\n                {footer}\r\n            </div>\r\n        ), this._screen);\r\n        setTimeout(() => this._screen.classList.add(\"show\"), 10);\r\n    }\r\n\r\n    hide() {\r\n        if (!this._options.closeOnEscape) {\r\n            this._hide();\r\n        } else {\r\n            EscapeHandler.fire();\r\n        }\r\n    }\r\n\r\n    _hide() {\r\n        const screen = this._screen;\r\n        screen.classList.remove(\"show\");\r\n        setTimeout(() => {\r\n            document.body.removeChild(screen);\r\n        }, 200);\r\n        const onClose = this._options.onClose;\r\n        if (typeof onClose === 'function') {\r\n            requestAnimationFrame(onClose);\r\n        }\r\n    }\r\n}\r\n\r\nfunction alert(content: string | React.ReactElement<any>, onClose: () => void | null = null): Dialog {\r\n    const dialog = new Dialog({ onClose, content, maxWidth: 420 });\r\n    dialog.footer = (<Button\r\n        icon=\"close\"\r\n        label={_('close')}\r\n        flat={true}\r\n        onClick={dialog.hide} />);\r\n    dialog.show();\r\n    return dialog;\r\n}\r\n\r\n/**\r\n * @param {string} caption - Title and button caption.\r\n * @param {any} content - Content to display.\r\n * @return Promise<boolean> Confirmed or not?\r\n */\r\nfunction confirm( caption: string, content: string | React.ReactElement<any>): Promise<boolean> {\r\n    return new Promise( resolve => {\r\n        const dialog = new Dialog({ title: caption, content, maxWidth: 420 });\r\n        const close = (confirmed: boolean) => {\r\n            dialog.hide();\r\n            resolve( confirmed );\r\n        };\r\n        dialog.onClose = () => close(false);\r\n        const btnCancel = (<Button\r\n            key=\"cancel\"\r\n            flat={true}\r\n            label={_(\"cancel\")}\r\n            onClick={() => close(false)}/>);\r\n        const btnOK = (<Button\r\n            key=\"ok\"\r\n            warning={true}\r\n            label={caption}\r\n            onClick={() => close(true)}/>);\r\n        dialog.footer = [ btnCancel, btnOK ];\r\n        dialog.show();\r\n    });\r\n}\r\n\r\nfunction show(options: IOptions): Dialog {\r\n    const dialog = new Dialog(options);\r\n    dialog.show();\r\n    return dialog;\r\n}\r\n\r\nfunction wait(label: string, task: Promise<any>): Promise<any> {\r\n    const content = (\r\n        <Flex dir=\"row\" justifyContent=\"flex-start\" alignItems=\"center\" >\r\n            <Icon content=\"wait\" animate={true}/>\r\n            <div>{label}</div>\r\n        </Flex>\r\n    );\r\n    const dialog = new Dialog({ content, footer: null, closeOnEscape: false });\r\n    dialog.show();\r\n    const close = dialog.hide.bind( dialog );\r\n    return new Promise( (resolve, reject) => {\r\n        task.then(\r\n            (result: any) => {\r\n                close();\r\n                resolve( result );\r\n            },\r\n            (error: any) => {\r\n                console.error( error );\r\n                close();\r\n                reject( error );\r\n            }\r\n        );\r\n    });\r\n}\r\n","import Dialog from \"../tfw/factory/dialog\"\nimport DashboardsData from \"./data/dashboards.json\"\n\nfunction msg(id: string, arg: any = null) {\n    window.onNegoceCoreMessage(id, arg);\n}\n\nconst MOCKS: { [key: string]: (id: string, ...arg: any) => void } = {\n    async Alert(id: string, message: string, title: string) {\n        const modal = Dialog.show({\n            onClose: () => msg(id),\n            icon: \"show\",\n            title: title,\n            content: message\n        });\n    },\n\n    CreateDataset(id: string, name: string, entity: string, board: string, objectName: string,\n            fields: string, query: string, refreshPeriod: number) {\n        window.setInterval(() => {\n            if( Math.random() < .8 ) return;\n            msg(`DS-${name}`, {\n                \"header\": [\n                    \"tb.description\", \"srv.cdEntite\", \"tb.nomCourt\", \"tb.cle\", \"tb.instance\", \"tb.nbOMAtt\", \"tb.nbNMACnf_BE_B\", \"tb.nbNMACnf_LI_B\", \"tb.nbRgrpAAttr\", \"tb.nbRgrpAFact\", \"tb.nbOGACnf\", \"tb.nbOGAFact\", \"tb.nbExeAtt\", \"srv.nbErreurs\", \"srv.nbEAATraiter\"\n                ],\n                \"data\": [\n                    `BackOffice ${entity}`, entity, \"\", board, `Negoce_Bourse_${entity}`,\n                    rnd(), rnd(), rnd(), rnd(), rnd(), rnd(), rnd(), rnd(), rnd(), rnd()\n                ] })\n        }, 3000 + 3 * Math.random());\n    },\n\n    GetDashboardsAccess(id: string, entity: string) {\n        window.setTimeout(() => msg(id, DashboardsData), 2000);\n    },\n\n    MoveTo(id: string, entity: string, board: string, role: string) {\n        Dialog.alert(`Move to entity ${entity} and board ${board} (role ${role})!`, () => msg(id, undefined));\n    },\n\n    TraceInfo(id: string, message: string) {\n        console.info( \"[Core.TraceInfo]\", message );\n        msg(id, message);\n    }\n}\n\nfunction rnd() {\n    if( Math.random() < .9 ) return \"0\";\n    return `${Math.floor(1000 * Math.random())}`;\n}\n\nexport default MOCKS;\n","import Dialog from \"../tfw/factory/dialog\"\r\nimport MOCKS from \"./mocks\"\r\n\r\n/* exported window.NegoceCore */\r\nconst Api: { [key: string]: () => void } = {\r\n    Alert: mock(\r\n        \"Alert\",\r\n        (id: string, message: string, title: string) => window.NegoceCore.Alert(id, message, title)\r\n    ),\r\n    CreateDataset: mock(\r\n        \"CreateDataset\",\r\n        (\r\n            id: string, name: string, entity: string, board: string, objectName: string,\r\n            fields: string, query: string, refrehPeriod: number\r\n        ) => window.NegoceCore.CreateDataset(\r\n            id, name, entity, board, objectName, fields, query, refrehPeriod)\r\n    ),\r\n    GetDashboardsAccess: mock(\r\n        \"GetDashboardsAccess\",\r\n        (id: string, entity: string) => window.NegoceCore.GetDashboardsAccess(id, entity)\r\n    ),\r\n    MoveTo: mock(\r\n        \"MoveTo\",\r\n        (id: string, entity: string, board: string, role: string) => window.NegoceCore.MoveTo(id, entity, board, role)\r\n    ),\r\n    TraceInfo: mock(\r\n        \"TraceInfo\",\r\n        (id: string, message: string) => window.NegoceCore.TraceInfo(id, message)\r\n    )\r\n};\r\n\r\nexport default Api;\r\n\r\n\r\nfunction mock(name: string, lambda: (...args: any) => any): () => void {\r\n    if (window.NegoceCore && window.NegoceCore[name])\r\n        return (...params) => {\r\n            try {\r\n                lambda(...params);\r\n            } catch (ex) {\r\n                Dialog.alert(ex);\r\n            }\r\n        };\r\n    console.warn(`Core.${name} is a mock!`);\r\n    //Dialog.alert(`Core.${name} is a mock!`);\r\n    return MOCKS[name];\r\n}\r\n\r\nconsole.info(\"window.NegoceCore=\", window.NegoceCore);\r\nconsole.info(\"Api=\", Api);\r\n","/**\r\n * This application aims to be launched withing a DotNET application.\r\n * This application will povide a global object called `NegoceCore`.\r\n *\r\n * In order to manage asynchronous calls to the mobile, we provide a single\r\n * callback: `window.onNegoceCoreMessage( id, message )`.\r\n */\r\nimport { IDashboard, IRecordSet } from \"../types\"\r\nimport Api from \"./api\"\r\n\r\nexport default {\r\n    Alert: wrap(\"Alert\") as (message: string, title: string) => Promise<{}>,\r\n    CreateDataset: wrap(\"CreateDataset\") as (\r\n        name: string, entity: string, board: string, objectName: string,\r\n        fields: string, query: string, refrehPeriod: number) => Promise<IRecordSet>,\r\n    GetDashboardsAccess: wrap(\"GetDashboardsAccess\") as (entity: string) => Promise<IDashboard[]>,\r\n    MoveTo: wrap(\"MoveTo\") as (entity: string, board: string, role: string) => Promise<{}>,\r\n    TraceInfo: wrap(\"TraceInfo\") as (message: string) => Promise<{}>\r\n}\r\n\r\ntype TCallback = ({ }) => void;\r\n\r\nlet ID: number = 0;\r\nconst CALLBACKS: { [key: string]: { onMessage: TCallback, onError: TCallback } } = {};\r\n\r\nexport function register(id: string, onMessage: TCallback, onError: TCallback) {\r\n    CALLBACKS[id] = { onMessage, onError };\r\n}\r\n\r\nexport function unregister(id: string) {\r\n    delete CALLBACKS[id];\r\n}\r\n\r\nfunction wrap(funcName: string) {\r\n    const api: (...args: any[]) => void = Api[funcName];\r\n\r\n    return function(...args: any[]) {\r\n        console.log(`>>> Core.${funcName}(`, ...args, \")\");\r\n        return new Promise((resolve, reject) => {\r\n            const id = `_${ID++}_`;\r\n            const unreg = () => unregister(id);\r\n            const onMessage = (msg: any) => {\r\n                console.log(`Message from ${funcName}:`, msg);\r\n                unreg();\r\n                resolve(msg);\r\n            }\r\n            const onError = (err: any) => {\r\n                console.log(`Error from ${funcName}:`, err);\r\n                unreg();\r\n                reject(err);\r\n            }\r\n            register(id, onMessage, onError);\r\n            try {\r\n                api(id, ...args);\r\n            } catch (ex) {\r\n                console.error(`Exception in ${funcName}:`, ex);\r\n                onError(ex);\r\n            }\r\n        });\r\n    };\r\n}\r\n\r\nwindow.onNegoceCoreMessage = function(id: string, msg: any) {\r\n    const { onMessage } = CALLBACKS[id];\r\n    if (typeof onMessage !== 'function') {\r\n        throw Error(`There is no valid message callback with id=\"${id}\"!`);\r\n    }\r\n    window.setTimeout(() => {\r\n        try {\r\n            onMessage(msg);\r\n        }\r\n        catch(ex) {\r\n            console.error(\"Error in Javascript processing of message: \", msg);\r\n            console.error(ex);\r\n        }\r\n    });\r\n}\r\n\r\nwindow.onNegoceCoreError = function(id: string, err: any) {\r\n    const { onError } = CALLBACKS[id];\r\n    if (typeof onError !== 'function') {\r\n        throw Error(`There is no valid error callback with id=\"${id}\"!`);\r\n    }\r\n    window.setTimeout(() => onError(err));\r\n}\r\n","import * as React from \"react\"\nimport castStringArray from \"../converter/string-array\"\nimport castBoolean from \"../converter/boolean\"\nimport TouchableBehavior from \"../behavior/touchable\"\nimport \"./touchable.css\"\n\ninterface ITouchableProps {\n    enabled?: boolean;\n    onClick?: ()=>void;\n    classes?: string[] | string;\n    color?: string;\n    children?: React.ReactElement<any>|React.ReactElement<any>[];\n}\n\nexport default class Touchable extends React.Component<ITouchableProps, {}> {\n    readonly touchable: TouchableBehavior;\n    private ref = React.createRef();\n\n    constructor(props: ITouchableProps) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.touchable = new TouchableBehavior({onTap: this.handleClick, color: props.color});\n    }\n\n    componentDidMount() {\n        const element = this.ref.current;\n        if (!element) return;\n        this.touchable.element = element;\n    }\n\n    handleClick() {\n        const handler = this.props.onClick;\n        if( typeof handler === 'function') {\n            handler();\n        }\n    }\n\n    render() {\n        const p = this.props;\n        const enabled = castBoolean(p.enabled, true);\n        const classes = [\"tfw-view-touchable\"].concat(castStringArray(p.classes));\n        if( enabled ) classes.push(\"enabled\");\n        return <div ref={this.ref} tabIndex={0} className={classes.join(\" \")}>{\n            p.children\n        }</div>\n    }\n}\n","import React from \"react\"\r\nimport Touchable from \"./tfw/view/touchable\"\r\nimport \"./Cell.css\"\r\n\r\ninterface ICellProps {\r\n    value: string,\r\n    onClick?: () => void\r\n}\r\n\r\nexport default class Cell extends React.Component<ICellProps, {}> {\r\n    private readonly ref: React.RefObject<HTMLDivElement> = React.createRef();\r\n\r\n    constructor( props: ICellProps ) {\r\n        super( props );\r\n        this.handleClick = this.handleClick.bind( this );\r\n    }\r\n\r\n    handleClick() {\r\n        const handler = this.props.onClick;\r\n        if (typeof handler !== 'function') return;\r\n        try {\r\n            handler();\r\n        } catch(ex) {\r\n            console.error(\"Error in handleClick(): \", );\r\n            console.error(ex);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps: ICellProps) {\r\n        if( prevProps.value !== this.props.value) {\r\n            const div = this.ref.current;\r\n            if( !div ) return;\r\n            div.classList.remove(\"stop\");\r\n            div.classList.add(\"start\");\r\n            window.setTimeout(() => {\r\n                div.classList.add(\"stop\");\r\n                div.classList.remove(\"start\");\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (<div ref={this.ref} className=\"Cell\">\r\n        <Touchable color=\"#fff\" onClick={this.handleClick}><div>{\r\n            this.props.value\r\n        }</div></Touchable></div>)\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport { IBackRow } from \"./types\"\r\nimport Cell from \"./Cell\"\r\n\r\nimport \"./Row.css\"\r\n\r\ninterface IRowProps extends IBackRow {\r\n    onClick?: (entity: string, board: string) => void\r\n}\r\n\r\nexport default class Row extends React.Component<IRowProps, {}> {\r\n    constructor( props: IRowProps ) {\r\n        super( props );\r\n        this.handleClick = this.handleClick.bind( this );\r\n    }\r\n\r\n    handleClick() {\r\n        const handler = this.props.onClick;\r\n        if (typeof handler !== 'function') return;\r\n        try {\r\n            const entity = this.props.proxy.substr(this.props.proxy.length - 3);\r\n            const board = this.props.id;\r\n            console.info(\"entity, board=\", entity, board);\r\n            handler(entity, board);\r\n        } catch(ex) {\r\n            console.error(\"Error in handleClick(): \", );\r\n            console.error(ex);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const entity = extractEntity(this.props.proxy);\r\n\r\n        return (<div className=\"Row\">\r\n            <div className=\"name\" title={this.props.desc}>{`${entity} ${this.props.name}`}</div>\r\n            {\r\n                this.props.columns.map( (col, idx) => (\r\n                    <Cell key={idx} value={col} onClick={this.handleClick}/>\r\n                ))\r\n            }\r\n        </div>)\r\n    }\r\n}\r\n\r\n\r\nfunction extractEntity(instance: string) {\r\n    return instance.substr( instance.length - 3 );\r\n}\r\n","import { IDashboard, IRecordSet, IDashboardsByProxy, IBackRow } from \"./types\"\r\n\r\nexport function convertDashboardsArrayToDaschboardsDict(dashboards: IDashboard[]): IDashboardsByProxy {\r\n    const output: IDashboardsByProxy = {};\r\n    dashboards.forEach((dashboard: IDashboard) => {\r\n        const proxy = dashboard.proxy;\r\n        if( !Array.isArray(output[proxy]) ) output[proxy] = [];\r\n        output[proxy].push(dashboard);\r\n    });\r\n    return output;\r\n}\r\n\r\n\r\nexport function toBackRows(rs: IRecordSet): IBackRow[] {\r\n    const itr = new RecordSetIterator(rs);\r\n    const output = [];\r\n    for( let row=0; row<itr.count; row++ ) {\r\n        output.push({\r\n            proxy: itr.read(row, \"tb.instance\"),\r\n            id: itr.read(row, \"tb.cle\"),\r\n            name: itr.read(row, \"tb.nomCourt\"),\r\n            desc: itr.read(row, \"tb.description\"),\r\n            columns: [\r\n                itr.read(row, \"tb.nbOMAtt\"),\r\n                itr.read(row, \"tb.nbNMACnf_BE_B\"),\r\n                itr.read(row, \"tb.nbNMACnf_LI_B\"),\r\n                itr.read(row, \"tb.nbRgrpAAttr\"),\r\n                itr.read(row, \"tb.nbRgrpAFact\"),\r\n                itr.read(row, \"tb.nbOGACnf\"),\r\n                itr.read(row, \"tb.nbOGAFact\"),\r\n                itr.read(row, \"tb.nbExeAtt\"),\r\n                itr.read(row, \"srv.nbErreurs\"),\r\n                itr.read(row, \"srv.nbEAATraiter\"),\r\n            ]\r\n        })\r\n    }\r\n    return output.sort(rowsSorter);\r\n}\r\n\r\nexport function toFrontRows(rs: IRecordSet): IBackRow[] {\r\n    const itr = new RecordSetIterator(rs);\r\n    const output = [];\r\n    for( let row=0; row<itr.count; row++ ) {\r\n        output.push({\r\n            proxy: itr.read(row, \"tb.instance\"),\r\n            id: itr.read(row, \"tb.cle\"),\r\n            name: itr.read(row, \"tb.nomCourt\"),\r\n            desc: itr.read(row, \"tb.description\"),\r\n            columns: [\r\n                itr.read(row, \"tb.nbObjetNonTraite\"),\r\n                itr.read(row, \"tb.nbRgrpEnc\"),\r\n                itr.read(row, \"tb.nbOMRed\"),\r\n                itr.read(row, \"tb.nbOMAtt\"),\r\n                itr.read(row, \"tb.nbNMACnf_BE_F\"),\r\n                itr.read(row, \"tb.nbNMACnf_LI_F\"),\r\n                itr.read(row, \"tb.nbVirAValider\"),\r\n                itr.read(row, \"tb.nbOGACnf\"),\r\n                itr.read(row, \"srv.nbErreurs\"),\r\n                itr.read(row, \"srv.nbEAATraiter\"),\r\n            ]\r\n        })\r\n    }\r\n    return output.sort(rowsSorter);\r\n}\r\n\r\nexport function rowsSorter(a: IBackRow, b: IBackRow) {\r\n    const A = `${a.proxy}/${a.name}`;\r\n    const B = `${b.proxy}/${b.name}`;\r\n    if( A < B ) return -1;\r\n    if( A > B ) return +1;\r\n    return 0;\r\n}\r\n\r\nexport class RecordSetIterator {\r\n    private readonly cols: number;\r\n    private readonly rows: number;\r\n    private readonly map: {[key: string]: number};\r\n    private readonly data: string[];\r\n\r\n    constructor(rs: IRecordSet) {\r\n        console.info(\"rs=\", rs);\r\n        this.cols = rs.header.length;\r\n        this.rows = rs.data.length / this.cols;\r\n        this.data = rs.data;\r\n        this.map = {};\r\n        rs.header.forEach((header: string, index: number) => {\r\n            this.map[header] = index;\r\n        }, this);\r\n    }\r\n\r\n    get count() {\r\n        return this.rows;\r\n    }\r\n\r\n    read(row: number, col: string): string {\r\n        const shift = this.map[col];\r\n        if( typeof shift === 'undefined' ) return \"\";\r\n        const index = row * this.cols + shift;\r\n        const value = this.data[index];\r\n\r\n        return value.trim() === \"0\" ? \"\" : value;\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport { IDashboard, IDashboardsByProxy, IRecordSet, IBackRow } from \"./types\"\r\nimport Dialog from \"./tfw/factory/dialog\"\r\nimport Button from \"./tfw/view/button\"\r\nimport Core from \"./core\"\r\nimport Row from \"./Row\"\r\nimport { register } from \"./core\"\r\n\r\nimport { convertDashboardsArrayToDaschboardsDict, toBackRows, toFrontRows, rowsSorter } from \"./tools\"\r\n\r\nimport \"./App.css\"\r\n\r\nconst BACK_FIELDS = JSON.stringify([\r\n    \"tb.description\", \"srv.cdEntite\", \"tb.nomCourt\", \"tb.cle\", \"tb.instance\",\r\n    \"tb.nbOMAtt\", \"tb.nbNMACnf_BE_B\", \"tb.nbNMACnf_LI_B\", \"tb.nbRgrpAAttr\",\r\n    \"tb.nbRgrpAFact\", \"tb.nbOGACnf\", \"tb.nbOGAFact\", \"tb.nbExeAtt\",\r\n    \"srv.nbErreurs\", \"srv.nbEAATraiter\"\r\n]);\r\nconst FRONT_FIELDS = JSON.stringify([\r\n    \"tb.description\", \"srv.cdEntite\", \"tb.nomCourt\", \"tb.cle\", \"tb.instance\",\r\n    \"tb.nbObjetNonTraite\", \"tb.nbRgrpEnc\", \"tb.nbOMRed\", \"tb.nbOMAtt\",\r\n    \"tb.nbNMACnf_BE_F\", \"tb.nbNMACnf_LI_F\", \"tb.nbVirAValider\",\r\n    \"tb.nbOGACnf\", \"srv.nbErreurs\", \"srv.nbEAATraiter\"\r\n]);\r\n\r\ninterface IAppProps {}\r\n\r\ninterface IAppState {\r\n    message: string;\r\n    wait: boolean;\r\n    backRows: IBackRow[];\r\n    frontRows: IBackRow[];\r\n}\r\n\r\nexport default class App extends React.Component<IAppProps, IAppState> {\r\n    constructor(props: IAppProps) {\r\n        super(props);\r\n        this.state = { message: \"VNegoce\", wait: false, backRows: [], frontRows: [] };\r\n        this.handleClickFront = this.handleClickFront.bind(this);\r\n        this.handleClickBack = this.handleClickBack.bind(this);\r\n    }\r\n\r\n    handleClickFront(entity: string, board: string) {\r\n        Core.MoveTo(entity, board, \"F\");\r\n    }\r\n\r\n    handleClickBack(entity: string, board: string) {\r\n        Core.MoveTo(entity, board, \"B\");\r\n    }\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            const dashboards = await Core.GetDashboardsAccess(\"LOC\");\r\n            const dashboardsByProxy = convertDashboardsArrayToDaschboardsDict(dashboards);\r\n            console.info(\"dashboardsByProxy=\", dashboardsByProxy);\r\n            this.createDatasets(dashboardsByProxy);\r\n        } catch(ex) {\r\n            Dialog.alert(`ERROR!\\n\\n${ex}`);\r\n        }\r\n    }\r\n\r\n    private createDatasets( dashboardsByProxy: IDashboardsByProxy ) {\r\n        for( const proxy of Object.keys(dashboardsByProxy) ) {\r\n            const dashboards = dashboardsByProxy[proxy];\r\n            this.createDatasetBack(proxy, dashboards);\r\n            this.createDatasetFront(proxy, dashboards);\r\n        }\r\n    }\r\n\r\n    private createDatasetFront( proxy: string, dashboards: IDashboard[] ) {\r\n        if( !Array.isArray(dashboards) || dashboards.length === 0 ) return;\r\n        const first = dashboards[0];\r\n        const name = `FRONT:${proxy}`;\r\n        Core.TraceInfo(`register to ${name}!`);\r\n        register( `DS-${name}`, this.onDatasetFrontChange.bind(this), () => {} );\r\n        Core.CreateDataset(\r\n            name,\r\n            first.entity,\r\n            first.key,\r\n            \"TableauDeBord\",\r\n            FRONT_FIELDS,\r\n            `tb.cle='${first.key}'`,\r\n            5\r\n        );\r\n    }\r\n\r\n    private createDatasetBack( proxy: string, dashboards: IDashboard[] ) {\r\n        if( !Array.isArray(dashboards) || dashboards.length === 0 ) return;\r\n        const first = dashboards[0];\r\n        const name = `BACK:${proxy}`;\r\n        Core.TraceInfo(`register to ${name}!`);\r\n        register( `DS-${name}`, this.onDatasetBackChange.bind(this), () => {} );\r\n        Core.CreateDataset(\r\n            name,\r\n            first.entity,\r\n            first.key,\r\n            \"TableauDeBord\",\r\n            BACK_FIELDS,\r\n            `tb.cle='${first.key}'`,\r\n            5\r\n        );\r\n    }\r\n\r\n    private onDatasetFrontChange(rs: IRecordSet) {\r\n        const newRows: IBackRow[] = toFrontRows(rs);\r\n        console.info(\"newRows=\", newRows);\r\n        const keys = newRows.map( row => `${row.proxy}/${row.key}` );\r\n        const oldRows = this.state.frontRows.filter(\r\n            row => keys.indexOf(`${row.proxy}/${row.key}`) === -1\r\n        );\r\n        this.setState({\r\n            frontRows: oldRows.concat(newRows).sort(rowsSorter)\r\n        })\r\n    }\r\n\r\n    private onDatasetBackChange(rs: IRecordSet) {\r\n        const newRows: IBackRow[] = toBackRows(rs);\r\n        const keys = newRows.map( row => `${row.proxy}/${row.key}` );\r\n        const oldRows = this.state.backRows.filter(\r\n            row => keys.indexOf(`${row.proxy}/${row.key}`) === -1\r\n        );\r\n        this.setState({\r\n            backRows: oldRows.concat(newRows).sort(rowsSorter)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (<div className=\"App\">\r\n            {this.state.frontRows.length > 0 ?\r\n                (<h1>Front</h1>) :\r\n                (<Button label=\"Loading Front Dashboards...\" icon=\"wait\" wait={true} flat={true}/>)}\r\n            {this.state.frontRows.map(row => (\r\n                <Row\r\n                    onClick={this.handleClickFront}\r\n                    key={`${row.proxy}#${row.id}`}\r\n                    id={row.id}\r\n                    name={row.name}\r\n                    desc={row.desc}\r\n                    proxy={row.proxy}\r\n                    columns={row.columns}/>\r\n            ))}\r\n            {this.state.backRows.length > 0 ?\r\n                (<h1>Back</h1>) :\r\n                (<Button label=\"Loading Back Dashboards...\" icon=\"wait\" wait={true} flat={true}/>)}\r\n            {this.state.backRows.map(row => (\r\n                <Row\r\n                    onClick={this.handleClickBack}\r\n                    key={`${row.proxy}#${row.id}`}\r\n                    id={row.id}\r\n                    name={row.name}\r\n                    desc={row.desc}\r\n                    proxy={row.proxy}\r\n                    columns={row.columns}/>\r\n            ))}\r\n        </div>)\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport Theme from \"./tfw/theme\"\r\nimport App from \"./App\"\r\n\r\nimport \"./tfw/font/josefin.css\"\r\nimport \"./index.css\"\r\n\r\nTheme.apply(\"default\");\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById(\"root\"));\r\n"],"sourceRoot":""}